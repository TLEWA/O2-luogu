/* ==UserStyle==
@name         氧洛谷
@namespace    https://userstyles.world/style/18339/default-slug
@version      2.2.0.0
@description  高度可自定义的洛谷美化脚本
@author       TLEWA
@license      GPL v3
@preprocessor stylus

@var	checkbox DarkMode "深色模式" 0
@var	checkbox Custom-Scrollbar "更好的滚动条" 1
@var	checkbox Custom-Inputbox "更一致的输入框圆角样式" 1
@var	checkbox Custom-Card "更一致的卡片圆角样式" 1
@var	checkbox Better-font "实验性代码块字体渲染" 0
@var	checkbox Better-test-case "更好的评测详情色块" 1
@var	checkbox Better-test-case-2 "实验性评测详情色块渲染" 1
@var	checkbox Better-highcharts "应用自定义主页题目通过条颜色系统" 1
@var	checkbox Better-Sidebar "更好的侧栏样式" 1
@var	checkbox Better-Progressframe	"更好的题库通过条" 1
@var	checkbox Better-test-case "更好的评测详情色块" 1
@var	checkbox Homepage-L2-Card-border "洛谷首页二级卡片边框去除" 0
@var	checkbox Homepage-Profile-Picture-hide "洛谷首页头像边框去除" 1
@var	checkbox Benben-border-del "犇犇边框去除" 1
@var	checkbox Benben-hide "犇犇'<-'样式去除" 1
@var	checkbox Privateletter-hide "私信'<-'样式去除" 1
@var	checkbox InLine-code-block-border-del "行内代码块边框去除" 0
@var	checkbox Code-block-border-del "代码块边框去除" 0
@var	checkbox Better-userpage "'系统维护，该内容暂不可见。'修复" 1
@var	checkbox Better-problem-toolip "更好的题库通过条信息样式" 1
@var	checkbox Better-big-button "更好的巨型按钮排版" 1
@var	checkbox exlg-compatible "exlg 兼容" 1
@var	checkbox oiso-compatible "(实验性)(不积极支持)oiso 兼容" 1
@var	checkbox Better-control-nav "更好的主页广告翻页选择点" 1
@var	checkbox Hide-AD "隐藏洛谷边栏广告" 0
@var	checkbox Hide-testcase-load "评测结果加载缓冲" 1
@var	checkbox Better-problem-tag "更好的题目 tag 渲染" 1
@var	checkbox Better-Markdown-button "Markdown 编辑器确认取消按钮洛谷样式化" 1
@var	checkbox Better-Header-ani "Header 出现动画" 1
@var	checkbox Better-Header-text-ani "Header 文字出现动画" 1
@var	checkbox Better-User-nav "更好的个人信息框(类 exlg 样式)" 1
@var	checkbox Better-problem-bar "更好的题库选择条" 1
@var	checkbox Better-Card-select-bar "更好的 Card 选择条" 1
@var	checkbox Better-InputGroup "更统一的 InputGroup 样式" 1
@var	checkbox Smart-SideBar "Smart-Luogu 式侧栏" 1
@var	checkbox Discuss-Sidebar-right "讨论区边栏右置" 1
@var	checkbox More-Sidebar-Ani "侧栏在更多场景展示动画" 1
@var	checkbox No-btn-outline "去除主页按钮 outline" 1
@var	checkbox Anti-HeaderFooter "保留洛谷原生主题" 0
@var	checkbox Better-Usernav-box "更好的右上图标栏" 1
@var	checkbox More-Usernav-box-Ani "右上图标栏在更多场景展示动画" 1
@var	checkbox Usernav-float "右上图标栏与下侧卡片布局对齐" 1
@var	checkbox Better-prob-card "新前端题解区卡片应用氧洛谷式排版" 1
@var	checkbox Fast-Font-load "字体常驻加载" 0
@var	checkbox Article-progress-bar "开启专栏区阅读进度条" 1
@var	checkbox Text-break-word "讨论区等页面正文横向溢出文字换行" 1
@var	checkbox Table-border-change "Markdown 列表中部 border 加粗" 0
@var	checkbox Table-change "实验性 Markdown 列表更改" 1
@var	checkbox Better-article-icon-text "文章区下方图标文字 hover 色统一" 1
@var	checkbox Better-AD-font "更好的主页广告翻页按钮样式" 1
@var	checkbox Smooth-scroll "开启平滑滚动" 1
@var	checkbox Problem-tag-center "题库 tag 居中" 0
@var	checkbox Better-Problem-tag-margin "题库 tag 布局方式微调" 1
@var	checkbox Better-Smooth-scroll "在主页自动禁用平滑滚动" 1
@var	checkbox Better-Badge "主页 badge 大小与新前端统一化" 1
@var	checkbox Better-UserNotification-ani "更好的通知中心列表动画" 1
@var	checkbox Article-Discuss "文章广场应用讨论区布局" 1
@var	checkbox More-Header-Ani "标题栏在更多场景展示动画" 1
@var	checkbox Canvas-fix "比赛情况栏在亚克力下正常显示" 1
@var	checkbox Better-Markdown-Edit "实验性 Markdown 编辑器渲染" 1
@var	checkbox Winter-Tag "开启冬日绘版支持者 Tag 渲染" 1
@var	checkbox Use-GPU "尝试使用 GPU 加速渲染" 1
@var	checkbox Ease-Load "平滑过渡页面加载" 1
@var	checkbox Content-Visibility "（实验性）尝试跳过渲染不可见内容以提升性能" 1

@var	select Better-article-card "专栏区卡片化" ["auto","on","off"]
@var	select Button-ani-select "按钮点击动画选择" ["jelly","contract","off"]
@var	select Input-ani-select "输入框点击动画选择" ["contract","jelly","off"]
@var	select Avatar-ani-select "用户头像 hover 动画选择" ["bigger","slime","off"]

@var	checkbox A-hover-line "(实验性)(非积极支持)开启超链接 hover 下划线动画" 0
@var	checkbox Anti-Sidebar-hover-line "侧栏禁用 hover 下划线动画" 1
@var	checkbox Anti-Float-hover-line "悬浮选择框禁用 hover 下划线动画" 1
@var	checkbox Anti-forum-container-hover-line "讨论区板块框禁用 hover 下划线动画" 1
@var	checkbox Anti-Username-hover-line "用户名禁用 hover 下划线动画" 0
@var	checkbox Anti-Diff-hover-line "题目难度禁用 hover 下划线动画" 0
@var	checkbox Anti-pict-hover-line "图片链接禁用 hover 下划线动画" 1
@var	checkbox Anti-Markdown-hover-line "Markdown 编辑器图标禁用 hover 下划线动画" 1
@var	checkbox Anti-Outbtn "登出按钮禁用 hover 下划线动画" 1
@var	checkbox Anti-Usernav "用户栏图标禁用 hover 下划线动画" 1

@var	text CustomBackground "自定义背景" "None"

@var	text Font-Stack "全局字体" "Default"
@var	text Code-block-fontstack "代码块字体" "Default"
@var	text Markdown-fontstack "Markdown 编辑器字体" "Default"

@var	text Card-L1-radius "一级卡片圆角大小" "Default"
@var	text Card-L2-radius "二级卡片圆角大小" "Default"
@var	text Card-float-radius "悬浮卡片圆角大小" "Default"
@var	text Inputbox-radius "输入框圆角大小" "Default"
@var	text Benben-radius "犇犇圆角大小" "Default"
@var	text InLine-code-block-radius "行内代码块圆角大小" "Default"
@var	text Code-block-radius "代码块圆角大小" "Default"

@var	text Background-color "全局背景色" "Default"
@var	text Card-bg-color-L1 "一级卡片背景色" "Default"
@var	text Card-bg-color-L2 "二级卡片背景色" "Default"

@var	text Header-bg-color "页首背景色" "Default"
@var	text Footer-bg-color "页尾背景色" "Default"

@var	text Card-bg-color-float "悬浮卡片背景色" "Default"
@var	text Card-hover-color-float "部分悬浮卡片选中背景色" "Default"
@var	text Text-color "正文文字色" "Default"
@var	text State-color "提示文字色" "Default"
@var	text Introduce-color "介绍文字色" "Default"
@var	text Operate-color "操作文字色" "Default"
@var	text Operate-hover-color "部分操作文字选中色" "Default"
@var	text Operate-hover-ani "部分操作文字选中动画效果" "Default"
@var	text Topic-text-color "题目限定条件文字选中色" "Default"
@var	text Badge-text-color "用户 badge 文字色" "Default"
@var	text ColorfulLabel-text-color "彩色标签卡片文字色" "Default"
@var	text GrayLabel-text-color "灰度标签卡片文字色" "Default"
@var	text GrayLabel-border-color "灰度标签边框色" "Default"
@var	text GrayLabel-bg-color "灰度标签背景色" "Default"
@var	text Badge-border-radius "用户 badge 圆角样式" "Default"
@var	text Label-border-radius "标签卡片圆角样式" "Default"
@var	text A-color "超链接颜色" "Default"
@var	text A-hover-color "超链接选中色" "Default"
@var	text Scrollbar-track-color "滚动槽颜色" "Default"
@var	text Scrollbar-thumb-color "滚动条颜色" "Default"
@var	text Scrollbar-hover-color "滚动条选中色" "Default"
@var	text Navbar-bg-color "菜单栏背景色" "Default"
@var	text Input-bg-color "输入框背景色" "Default"
@var	text Input-focus-bg-color "输入框选中背景色" "Default"
@var	text Input-border-color "输入框边框色" "Default"
@var	text Input-focus-border-color "输入框选中边框色" "Default"
@var	text Input-text-color "输入框文字色" "Default"
@var	text Input-placeholder-color "输入框提示文字色" "Default"
@var	text Sidebar-bg-color "侧栏背景色" "Default"
@var	text Sidebar-icon-color "侧栏主体图标色" "Default"
@var	text Sidebar-btn-color "侧栏'应用'按钮色" "Default"
@var	text Sidebar-luogu-bg-color "侧栏洛谷图标背景色" "Default"
@var	text Sidebar-luogu-icon-color "侧栏洛谷图标色" "Default"
@var	text Post-heading-color "普通标题文字色" "Default"
@var	text Main-post-heading-color "主标题文字色" "Default"
@var	text Benben-hd-color "犇犇上半颜色" "Default"
@var	text Benben-bd-color "犇犇下半颜色" "Default"
@var	text Discuss-hd-color "讨论区评论上半颜色" "Default"
@var	text Discuss-bd-color "讨论区评论下半颜色" "Default"
@var	text Divider-color "分割线颜色" "Default"

@var	text InLine-code-block-bg-color "行内代码块背景色" "Default"
@var	text Code-block-bg-color "代码块背景色" "Default"
@var	text InLine-code-block-border-color "行内代码块边框色" "Default"
@var	text Code-block-border-color "代码块边框色" "Default"

@var	text Code-block-text-color "代码块文字色" "Default"
@var	text Code-block-quote-color "代码块注释色" "Default"
@var	text Code-block-meta-color "代码块 meta 色" "Default"
@var	text Code-block-meta-string-color "代码块 meta-string 色" "Default"
@var	text Code-block-string-color "代码块字符串色" "Default"
@var	text Code-block-keyword-color "代码块关键字色" "Default"
@var	text Code-block-title-color "代码块函数名颜色" "Default"
@var	text Code-block-number-color "代码块数字颜色" "Default"
@var	text Code-block-params-color "代码块函数后括号颜色" "Default"

@var	text InLine-code-block-border "行内代码块边框样式" "Default"
@var	text Code-block-border "代码块边框样式" "Default"

@var	text L2-Card-border "二级卡片默认边框色" "Default"

@var	text Homepage-L2-Card-green "洛谷首页二级卡片绿色" "Default"
@var	text Homepage-L2-Card-green-border "洛谷首页二级卡片绿色边框" "Default"
@var	text Homepage-L2-Card-red "洛谷首页二级卡片红色" "Default"
@var	text Homepage-L2-Card-red-border "洛谷首页二级卡片红色边框" "Default"
@var	text Homepage-L2-Card-blue-border "洛谷首页蓝色边框" "Default"

@var	text Homepage-a-green "洛谷首页超链接绿色" "Default"
@var	text Homepage-a-red "洛谷首页超链接红色" "Default"

@var	text Directory-a-color "洛谷左上目录超链接颜色" "Default"
@var	text Other-icon-color "杂项图标颜色" "Default"
@var	text Card-icon-color "右上悬浮卡图标颜色" "Default"

@var	text Luogu-discuss-color-1 "洛谷讨论区'全部板块'颜色" "Default"
@var	text Luogu-discuss-color-2 "洛谷讨论区'站务版'颜色" "Default"
@var	text Luogu-discuss-color-3 "洛谷讨论区'题目总版'颜色" "Default"
@var	text Luogu-discuss-color-4 "洛谷讨论区'学术版'颜色" "Default"
@var	text Luogu-discuss-color-5 "洛谷讨论区'灌水区'颜色" "Default"
@var	text Luogu-discuss-color-6 "洛谷讨论区'工单反馈版'颜色" "Default"

@var	text Topic-type-Label-not-select "题目类型标签-未选择色" "Default"
@var	text Topic-type-Label-algorithm "题目类型标签-题目算法色" "Default"
@var	text Topic-type-Label-source "题目类型标签-题目来源色" "Default"
@var	text Topic-type-Label-time "题目类型标签-题目时间色" "Default"
@var	text Topic-type-Label-area "题目类型标签-题目区域色" "Default"
@var	text Topic-type-Label-special "题目类型标签-特殊题目色" "Default"

@var	text Topic-difficulty-Label-1 "题目难度标签-暂无评定色" "Default"
@var	text Topic-difficulty-Label-2 "题目难度标签-入门色" "Default"
@var	text Topic-difficulty-Label-3 "题目难度标签-普及-色" "Default"
@var	text Topic-difficulty-Label-4 "题目难度标签-普及/提高−色" "Default"
@var	text Topic-difficulty-Label-5 "题目难度标签-普及+/提高色" "Default"
@var	text Topic-difficulty-Label-6 "题目难度标签-提高+/省选−色" "Default"
@var	text Topic-difficulty-Label-7 "题目难度标签-省选/NOI−色" "Default"
@var	text Topic-difficulty-Label-8 "题目难度标签-NOI/NOI+/CTSC色" "Default"

@var	text Article-bg-color "专栏背景色" "Default"
@var	text Article-text-bg-color "专栏文章框背景色" "Default"
@var	text Article-sidebar-bg-color "专栏侧栏背景色" "Default"
@var	text Article-icon-color "专栏文章底部图标色" "Default"

@var	text Test-case-margin-right "评测详情色块横向间隔" "Default"
@var	text Test-case-margin-bottom "评测详情色块竖向间隔" "Default"
@var	text Test-case-margin-top "评测详情色块顶部距离" "Default"
@var	text Test-case-size "评测详情色块边长" "Default"
@var	text Test-case-ani "评测详情色块动画效果" "Default"
@var	text Test-case-shadow "评测详情色块阴影效果" "Default"
@var	text Test-case-border-radius "评测详情色块圆角大小" "Default"
@var	text Test-case-translate "评测详情色块 hover 悬浮高度" "Default"
@var	text Test-case-hover-shadow "评测详情色块 hover 阴影效果" "Default"
@var	text Test-case-message-ani "评测详情信息框动画效果" "Default"
@var	text Test-case-message-shadow "评测详情信息框阴影效果" "Default"
@var	text Test-case-message-color "评测详情信息框文字颜色" "Default"
@var	text Test-case-background "评测详情信息框背景色" "Default"
@var	text Test-case-color-AC "评测详情背景色-AC" "Default"
@var	text Test-case-color-WA "评测详情背景色-WA" "Default"
@var	text Test-case-color-RE "评测详情背景色-RE" "Default"
@var	text Test-case-color-TLE "评测详情背景色-TLE" "Default"
@var	text Test-case-color-MLE "评测详情背景色-MLE(实验性，功能受限)" "Default"
@var	text Test-case-color-OLE "评测详情背景色-OLE(实验性，功能受限)" "Default"
@var	text Test-case-color-UKE "评测详情背景色-UKE" "Default"
@var	text Test-case-color-QUE "评测详情背景色-加载中" "Default"
@var	text Test-case-text-color "评测详情文字色" "Default"

@var	text Privateletter-bg-color "私信信息背景色" "Default"
@var	text Privateitem-hover-bg-color "私信选择框 hover 背景色" "Default"
@var	text Privateitem-hover-ani "私信选择框 hover 动画效果" "Default"

@var	text Benben-tab-bg-color "犇犇 Tab 条背景色" "Default"
@var	text Benben-tab-hover-color "犇犇 Tab 条 hover 背景色" "Default"
@var	text Benben-tab-text-color "犇犇 Tab 条文字色" "Default"
@var	text Benben-tab-focus-bg-color "犇犇 Tab 条 focus 背景色" "Default"
@var	text Benben-tab-focus-text-color "犇犇 Tab 条 focus 文字色" "Default"
@var	text Benben-tab-height "犇犇 Tab 条高度" "Default"

@var	text Spinner-dark-color "加载圈颜色" "Default"

@var	text article-icon-1-color "专栏区'收藏'图标点击颜色" "Default"
@var	text article-icon-2-color "专栏区'点赞'图标点击颜色" "Default"
@var	text article-icon-3-color "专栏区'不喜欢'图标点击颜色" "Default"
@var	text article-icon-4-color "专栏区'编辑'图标点击颜色" "Default"

@var	text Sidebar-popup-padding "侧栏'应用'框 padding" "Default"
@var	text Sidebar-popup-ani "侧栏'应用'框出现动画效果" "Default"

@var	text Float-card-hover-ani "部分悬浮框 hover 动画效果" "Default"

@var	text Markdown-button-hover-bg-color "Markdown 按钮 hover 背景色" "Default"
@var	text Markdown-button-hover-border "Markdown 按钮 hover border 样式" "Default"
@var	text Markdown-button-hover-text-color "Markdown 按钮 hover 文字色" "Default"

@var	text Highcharts-bg-color "主页题目通过情况栏折线图背景色" "Default"
@var	text Highcharts-line-color "主页题目通过情况栏折线图线色" "Default"
@var	text Highcharts-point-color "主页题目通过情况栏折线图点色" "Default"
@var	text Highcharts-hover-point-color "主页题目通过情况栏折线图 hover 点色" "Default"
@var	text Highcharts-hover-point-border-color "主页题目通过情况栏折线图 hover 点边框色" "Default"
@var	text Highcharts-hover-bigpoint-color "主页题目通过情况栏折线图 hover 氛围环色" "Default"
@var	text Highcharts-hover-bigpoint-op "主页题目通过情况栏折线图 hover 氛围环透明度"  "Default"
@var	text Highcharts-strip-color "主页题目通过情况栏折线图竖条色" "Default"
@var	text Highcharts-strip-border-color "主页题目通过情况栏折线图竖条边框色" "Default"
@var	text Highcharts-strip-hover-color "主页题目通过情况栏折线图竖条 hover 色" "Default"
@var	text Highcharts-text-color "主页题目通过情况栏折线图文本色" "Default"
@var	text Highcharts-text-bg-color "主页题目通过情况栏折线图文本框背景色" "Default"
@var	text Highcharts-text-border-color "主页题目通过情况栏折线图文本框边框色" "Default"
@var	text Highcharts-text-point-color-1 "主页题目通过情况栏折线图文本框 '累积通过数' 点色" "Default"
@var	text Highcharts-text-point-color-2 "主页题目通过情况栏折线图文本框 '当月通过数' 点色" "Default"

@var	text Userpage-text-color "个人主页简介文字色" "Default"

@var	text Progressframe-color "题库通过条颜色" "Default"
@var	text Progressframe-bg-color "题库通过条背景色" "Default"

@var	text Big-button-bg-color "巨型按钮背景色" "Default"
@var	text Big-button-border "巨型按钮 border 样式" "Default"
@var	text Big-button-border-hover "巨型按钮 border hover 样式" "Default"

@var	text Small-button-bg-color "翻页按钮背景色" "Default"
@var	text Small-button-select-bg-color "翻页按钮 select 背景色" "Default"
@var	text Small-button-border "翻页按钮 border 样式" "Default"
@var	text Small-button-border-hover "翻页按钮 border hover 样式" "Default"
@var	text Small-button-text-select-color "翻页按钮文字 select 样式" "Default"

@var	text Footer-text-color "页尾文字色" "Default"
@var	text Footer-text-hover-color "页尾超链接 hover 色" "Default"
@var	text Footer-bigtext-color "页尾 '在洛谷，享受 Coding 的欢乐' 色" "Default"
@var	text Footer-img-color "页尾洛谷图标色" "Default"

@var	text Card-L1-shadow "一级卡片阴影效果" "Default"
@var	text Card-L1-hover-shadow "一级卡片 hover 阴影效果" "Default"
@var	text Card-L1-hover-transition "一级卡片 hover 阴影动画效果" "Default"

@var	text Benben-shadow "犇犇阴影效果" "Default"
@var	text Benben-hover-shadow "犇犇 hover 阴影效果" "Default"
@var	text Benben-hover-ani "犇犇 hover 阴影动画效果" "Default"

@var	text Discuss-button-ani "讨论区板块选择动画 & 文章广场板块选择动画" "Default"

@var	text Article-rside-width "文章区右侧边栏宽度" "Default"

@var	text Combowrapper-text-color "普通下拉框文字颜色" "Default"

@var	text Button-bg-color-blue "洛谷蓝色按钮背景色" "Default"
@var	text Button-bg-color-black "洛谷黑色按钮背景色" "Default"
@var	text Button-bg-color-red "洛谷红色按钮背景色" "Default"
@var	text Button-bg-color-special-red "洛谷镂空红按钮背景色" "Default"
@var	text Button-bg-color-special-blue "洛谷镂空蓝按钮背景色" "Default"
@var	text Button-bg-color-green "洛谷绿色按钮背景色" "Default"

@var	text Button-hover-bg-color-blue "洛谷蓝色按钮背景 hover 色" "Default"
@var	text Button-hover-bg-color-black "洛谷黑色按钮背景 hover 色" "Default"
@var	text Button-hover-bg-color-red "洛谷红色按钮背景 hover 色" "Default"
@var	text Button-hover-bg-color-special-red "洛谷镂空红按钮背景 hover 色" "Default"
@var	text Button-hover-bg-color-special-blue "洛谷镂空蓝按钮背景 hover 色" "Default"
@var	text Button-hover-bg-color-green "洛谷绿色按钮背景 hover 色" "Default"

@var	text Button-active-bg-color-blue "洛谷蓝色按钮背景 active 色" "Default"
@var	text Button-active-bg-color-black "洛谷黑色按钮背景 active 色" "Default"
@var	text Button-active-bg-color-red "洛谷红色按钮背景 active 色" "Default"
@var	text Button-active-bg-color-special-red "洛谷镂空红按钮背景 active 色" "Default"
@var	text Button-active-bg-color-special-blue "洛谷镂空蓝按钮背景 active 色" "Default"
@var	text Button-active-bg-color-green "洛谷绿色按钮背景 active 色" "Default"

@var	text Button-border-color-black "洛谷黑色按钮边框色" "Default"
@var	text Button-border-color-special-red "洛谷镂空红按钮边框色" "Default"
@var	text Button-border-color-special-blue "洛谷镂空蓝按钮边框色" "Default"

@var	text Button-border-size-blue "洛谷蓝色按钮边框大小" "Default"
@var	text Button-border-size-black "洛谷黑色按钮边框大小" "Default"
@var	text Button-border-size-red "洛谷红色按钮边框大小" "Default"
@var	text Button-border-size-special-red "洛谷镂空红按钮边框大小" "Default"
@var	text Button-border-size-special-blue "洛谷镂空蓝按钮边框大小" "Default"
@var	text Button-border-size-green "洛谷绿色按钮边框大小" "Default"

@var	text Button-radius "中型按钮圆角样式" "Default"
@var	text Small-button-radius "小型按钮圆角样式" "Default"

@var	text Button-padding-width "中型按钮横向 padding" "Default"
@var	text Button-padding-height "中型按钮纵向 padding" "Default"
@var	text Small-button-padding-width "小型按钮横向 padding" "Default"
@var	text Small-button-padding-height "小型按钮纵向 padding" "Default"

@var	text Button-hover-ani "按钮 hover 动画" "Default"

@var	text Expand-shadow "展开按钮阴影样式" "Default"
@var	text Expand-radius "展开按钮阴影圆角样式" "Default"

@var	text Article-sidebar-card-hover "新前端侧栏卡片 hover 色" "Default"

@var	text Markdown-gutter-color "Markdown 编辑器行数显示背景色" "Default"
@var	text Markdown-gutter-active-color "Markdown 编辑器行数显示选中背景色" "Default"
@var	text Markdown-line-active-color "Markdown 编辑器代码行选中背景色" "Default"
@var	text Markdown-linenumber-color "Markdoen 编辑器行数数字色" "Default"
@var	text Markdown-bg-color "Markdown 编辑器背景色" "Default"

@var	text Homepage-L2-Card-blue-text-color "洛谷首页二级卡片蓝色文字" "Default"

@var	text Text-selection-color "文字框选色" "Default"
@var	text Codeblock-text-selection-color "代码块文字框选色" "Default"
@var	text Markdown-text-selection-color "Markdown 编辑器文字框选色" "Default"

@var	text Exlg-Codeheader-bg-color "exlg 代码块头部背景色" "Default"

@var	text Control-nav-ani "主页广告翻页选择点动画效果" "Default"
@var	text Control-nav-bg-color "主页广告翻页选择点背景" "Default"
@var	text Control-nav-active-bg-color "主页广告翻页选择点选中背景" "Default"

@var	text UpdEditer-gutter-color "代码提交编辑器行数显示背景色" "Default"
@var	text UpdEditer-gutter-active-color "代码提交编辑器行数显示选中背景色" "Default"
@var	text UpdEditer-line-active-color "代码提交编辑器代码行选中背景色" "Default"
@var	text UpdEditer-linenumber-color "代码提交编辑器行数数字色" "Default"
@var	text UpdEditer-bg-color "代码提交编辑器背景色" "Default"

@var	text UpdEditer-text-color "代码提交编辑器文字色" "Default"
@var	text UpdEditer-quote-color "代码提交编辑器注释色" "Default"
@var	text UpdEditer-meta-color "代码提交编辑器 meta 色" "Default"
@var	text UpdEditer-meta-string-color "代码提交编辑器 meta-string 色" "Default"
@var	text UpdEditer-string-color "代码提交编辑器字符串色" "Default"
@var	text UpdEditer-keyword-color "代码提交编辑器关键字色" "Default"
@var	text UpdEditer-number-color "代码提交编辑器数字颜色" "Default"
@var	text UpdEditer-operator-color "代码提交编辑器操作符颜色" "Default"
@var	text UpdEditer-punctuation-color "代码提交编辑器标点颜色" "Default"
@var	text UpdEditer-paren-color "代码提交编辑器括号颜色" "Default"
@var	text UpdEditer-type-color "代码提交编辑器 type 色" "Default"
@var	text UpdEditer-func-color "代码提交编辑器函数色" "Default"

@var	text Difficulty-text-color-1 "题目难度文字-暂无评定色" "Default"
@var	text Difficulty-text-color-2 "题目难度文字-入门色" "Default"
@var	text Difficulty-text-color-3 "题目难度文字-普及-色" "Default"
@var	text Difficulty-text-color-4 "题目难度文字-普及/提高−色" "Default"
@var	text Difficulty-text-color-5 "题目难度文字-普及+/提高色" "Default"
@var	text Difficulty-text-color-6 "题目难度文字-提高+/省选−色" "Default"
@var	text Difficulty-text-color-7 "题目难度文字-省选/NOI−色" "Default"
@var	text Difficulty-text-color-8 "题目难度文字-NOI/NOI+/CTSC色" "Default"

@var	text Select-button-hover-bg-color "题库主页算法难度选择按钮背景色" "Default"

@var	text Problem-tag-radius "problem tag 圆角样式" "Default"
@var	text Problem-tag-padding "problem tag padding 样式" "Default"
@var	text Problem-tag-ani "problem tag 动画效果" "Default"
@var	text Problem-tag-hover-trans "problem tag hover 上移距离" "Default"
@var	text Problem-tag-hover-shadow "problem tag hover 阴影" "Default"

@var	text A-hover-ani "超链接 hover 动画" "Default"
@var	text Button-default-color "按钮默认文字色" "Default"

@var	text Username-color-1 "灰名文字色" "Default"
@var	text Username-color-2 "蓝名文字色" "Default"
@var	text Username-color-3 "绿名文字色" "Default"
@var	text Username-color-4 "橙名文字色" "Default"
@var	text Username-color-5 "红名文字色" "Default"
@var	text Username-color-6 "紫名文字色" "Default"
@var	text Username-color-7 "棕名文字色" "Default"

@var	text Input-active-ani "输入框 active 动画" "Default"

@var	text Header-ani-padding "Header 动画初始向下位置" "Default"
@var	text Header-ani "Header 动画效果" "Default"
@var	text Header-text-ani-padding "Header 文字动画初始向左位置" "Default"
@var	text Header-text-ani "Header 文字动画效果" "Default"

@var	text Problem-select-bar-bg-color "题库选择条背景色" "Default"
@var	text Problem-select-bar-active-bg-color "题库选择条选中背景色" "Default"
@var	text Problem-select-bar-text-color "题库选择条透明背景文字色" "Default"
@var	text Problem-select-bar-hbg-text-color "题库选择条文字色" "Default"
@var	text Problem-select-bar-active-text-color "题库选择条选中文字色" "Default"
@var	text Problem-select-bar-text-hover-color "题库选择条透明背景文字 hover 色" "Default"
@var	text Problem-select-bar-hbg-text-hover-color "题库选择条文字 hover 色" "Default"
@var	text Problem-select-bar-text-hover-ani "题库选择条文字 hover 动画" "Default"
@var	text Problem-select-bar-bg-hover-ani "题库选择条背景 hover 动画" "Default"

@var	text Card-select-bar-hover-ani "Card 选择条 hover 动画" "Default"
@var	text Card-select-bar-select-color "Card 选择条选中色" "Default"
@var	text Card-select-bar-out-ani "Card 选择条渐现动画" "Default"

@var	text Input-active-shadow "输入框 active 阴影" "Default"

@var	text SideBar-shadow "侧栏阴影" "Default"
@var	text SideBar-position "侧栏距顶部距离(百分比)" "Default"
@var	text SideBar-ani "侧栏渐现动画" "Default"

@var	text Discuss-Sidebar-width "讨论区边栏宽度" "Default"
@var	text Discuss-Main-width "讨论区主栏宽度" "Default"
@var	text Discuss-Sidebar-margin "讨论区边栏与卡片间隔(居左时才生效)(洛谷原版特性兼容)" "Default"

@var	text Button-active-scale "按钮 actvie 变化倍率(0 ~ 1)，越高越大" "Default"
@var	text Button-active-ani "按钮 actvie 变化动画效果" "Default"
@var	text Input-active-scale "输入框 actvie 变化倍率(0 ~ 1)，越高越大" "Default"
@var	text Input-active-anim "输入框 actvie 变化动画效果" "Default"

@var	text A-hover-line-ani "超链接 hover 下划线动画效果" "Default"
@var	text A-hover-line-color "超链接 hover 下划线颜色" "Default"
@var	text A-hover-line-height "超链接 hover 下划线粗细" "Default"

@var	text Usernav-box-margin "悬浮右上信息框距顶部距离" "Default"
@var	text Usernav-box-ani-margin "悬浮右上信息框动画初始距顶部距离(可以为负)" "Default"
@var	text Usernav-box-ani "悬浮右上信息框动画效果" "Default"
@var	text Usernav-box-radius "右上信息框圆角大小" "Default"

@var	text Prob-lcard-width "题目/题解页面主卡片宽度" "Default"
@var	text Prob-side-width "题目/题解页面 side 卡片宽度" "Default"

@var	text Float-Card-shadow "悬浮卡片阴影" "Default"

@var	text Privateletter-right-bg-color "私信右侧信息背景色" "Default"
@var	text Privateletter-right-text-color "私信右侧信息文字色" "Default"

@var	text Top-progress-color "顶部加载条颜色" "Default"

@var	text Table-color "Markdown 列表颜色" "Default"
@var	text Table-radius "Markdown 列表圆角样式" "Default"

@var	text Avatar-hover-scale "用户头像 hover 变化倍率(0 ~ 1)，越高越大" "Default"
@var	text Avatar-hover-ani "用户头像 hover 动画效果" "Default"

@var	text Article-progress-color "专栏文章阅读条颜色" "Default"
@var	text Article-progress-bg-color "专栏文章阅读条背景色" "Default"
@var	text Article-progress-height "专栏文章阅读条高度" "Default"
@var	text Article-progress-ani "专栏文章阅读条动画效果" "Default"

@var	text Checkin-Time-color "主页签到日期显示颜色" "Default"

@var	text Codeblock-better-color1 "代码块实验性渲染 {} 色" "Default"
@var	text Codeblock-better-color2 "代码块实验性渲染 []() 色" "Default"
@var	text Codeblock-better-color3 "代码块实验性渲染 ; 色" "Default"

@var	text Usernav-icon-hover-color "右上图标栏图标 hover 色" "Default"
@var	text Usernav-navbar-icon-hover-color "右上图标栏菜单栏图标 hover 色" "Default"
@var	text Usernav-icon-hover-ani "右上图标栏图标 hover 动画" "Default"

@var	text Article-icon-hover-ani "文章区下方图标 hover 动画" "Default"

@var	text AD-font-color "主页广告翻页按钮颜色" "Default"
@var	text AD-font-bg-color "主页广告翻页按钮背景色" "Default"
@var	text AD-font-size "主页广告翻页按钮字体大小" "Default"
@var	text AD-font-bg-width "主页广告翻页按钮背景宽度" "Default"
@var	text AD-font-bg-height "主页广告翻页按钮背景高度" "Default"
@var	text AD-font-bg-radius "主页广告翻页按钮背景圆角大小" "Default"
@var	text AD-font-bg-hoverimg-color "主页广告翻页按钮 hover 图片背景色" "Default"
@var	text AD-font-bg-hover-color "主页广告翻页按钮 hover 背景色" "Default"
@var	text AD-font-bg-ani "主页广告翻页按钮背景色变化动画效果" "Default"

@var	text Luogu-article-color-1 "洛谷文章广场'全部'颜色" "Default"
@var	text Luogu-article-color-2 "洛谷文章广场'题解'颜色" "Default"
@var	text Luogu-article-color-3 "洛谷文章广场'科技·工程'颜色" "Default"
@var	text Luogu-article-color-4 "洛谷文章广场'算法·理论'颜色" "Default"
@var	text Luogu-article-color-5 "洛谷文章广场'生活·游记'颜色" "Default"
@var	text Luogu-article-color-6 "洛谷文章广场'学习·文化课'颜色" "Default"
@var	text Luogu-article-color-7 "洛谷文章广场'休闲·娱乐'颜色" "Default"

@var	text Directory-a-hover-color "洛谷左上目录超链接 hover 颜色" "Default"
@var	text Directory-a-hover-ani "洛谷左上目录超链接 hover 动画" "Default"

@var	text Swal-shadow "小型 swal 信息框弹窗阴影样式" "Default"

@var	text Usertag-color-1 "灰名 tag 色" "Default"
@var	text Usertag-color-2 "蓝名 tag 色" "Default"
@var	text Usertag-color-3 "绿名 tag 色" "Default"
@var	text Usertag-color-4 "橙名 tag 色" "Default"
@var	text Usertag-color-5 "红名 tag 色" "Default"
@var	text Usertag-color-6 "紫名 tag 色" "Default"
@var	text Usertag-color-7 "棕名 tag 色" "Default"

@var	text Submit-pict "自定义 AC 后展示图片" "Default"

@var	text Usersvg-color-1 "绿勾色" "Default"
@var	text Usersvg-color-2 "蓝勾色" "Default"
@var	text Usersvg-color-3 "金勾色" "Default"

@var	text Username-color-ani "名字颜色 hover 变色动画" "Default"

@var	text Username-hover-color-1 "灰名 hover 文字色" "Default"
@var	text Username-hover-color-2 "蓝名 hover 文字色" "Default"
@var	text Username-hover-color-3 "绿名 hover 文字色" "Default"
@var	text Username-hover-color-4 "橙名 hover 文字色" "Default"
@var	text Username-hover-color-5 "红名 hover 文字色" "Default"
@var	text Username-hover-color-6 "紫名 hover 文字色" "Default"
@var	text Username-hover-color-7 "棕名 hover 文字色" "Default"

@var	text Usertag-hover-color-1 "灰名 tag hover 文字色" "Default"
@var	text Usertag-hover-color-2 "蓝名 tag hover 文字色" "Default"
@var	text Usertag-hover-color-3 "绿名 tag hover 文字色" "Default"
@var	text Usertag-hover-color-4 "橙名 tag hover 文字色" "Default"
@var	text Usertag-hover-color-5 "红名 tag hover 文字色" "Default"
@var	text Usertag-hover-color-6 "紫名 tag hover 文字色" "Default"
@var	text Usertag-hover-color-7 "棕名 tag hover 文字色" "Default"

@var	text Usertag-color-ani "用户 tag hover 变色动画" "Default"

@var	text Usersvg-mid-color "认证等级勾中心对钩色(无法适配主页前端)" "Default"
@var	text Usersvg-mid-hover-color "认证等级勾中心对钩 hover 色(无法适配主页前端)" "Default"
@var	text Usersvg-hover-color-1 "绿勾 hover 色" "Default"
@var	text Usersvg-hover-color-2 "蓝勾 hover 色" "Default"
@var	text Usersvg-hover-color-3 "金勾 hover 色" "Default"
@var	text Usersvg-hover-ani "认证等级勾 hover 动画" "Default"

@var	text UserNotification-active-color "通知中心选择列表 active 色" "Default"
@var	text UserNotification-ani "通知中心选择列表颜色动画" "Default"

@var	text Article-sidebar-card-hover-ani "新前端侧栏卡片 hover 动画" "Default"
@var	text Problem-sol-icon-act-color "题解点赞按钮 active 色" "Default"

@var	text Blockquote-border-color "块引用边框色" "Default"

@var	text Main-title-size "主标题字体大小" "Default"
@var	text Navbar-height "旧前端菜单栏高度" "Default"
@var	text Header-narrow-height "旧前端无按钮标题栏高度" "Default"
@var	text Header-normal-height "旧前端标题栏高度" "Default"
@var	text Header-new-narrow-height "新前端无按钮标题栏高度" "Default"
@var	text Header-new-normal-height "新前端标题栏高度" "Default"

@var	text Markdown-text-color "Markdown 编辑器文字色" "Default"
@var	text Markdown-text-delete-color "Markdown 编辑器文字删除线颜色" "Default"
@var	text Markdown-text-strong-color "Markdown 编辑器文字加粗文字颜色" "Default"
@var	text Markdown-text-italic-color "Markdown 编辑器文字斜体颜色" "Default"
@var	text Markdown-text-variable-color "Markdown 编辑器列表颜色" "Default"
@var	text Markdown-text-title-color "Markdown 编辑器标题色" "Default"
@var	text Markdown-text-codetag-color "Markdown 编辑器代码标识串色" "Default"
@var	text Markdown-text-codename-color "Markdown 编辑器代码语言标识色" "Default"
@var	text Markdown-atext-color "Markdown 编辑器超链接显示文字色" "Default"
@var	text Markdown-a-color "Markdown 编辑器超链接色" "Default"

@var	text Card-hover-bg-color-L1 "一级卡片 hover 背景色" "Default"
@var	text Card-hover-bg-color-L2 "二级卡片 hover 背景色" "Default"
@var	text Card-hover-bg-color-L1-ani "一级卡片 hover 背景色动画效果" "Default"
@var	text Card-hover-bg-color-L2-ani "二级卡片 hover 背景色动画效果" "Default"

@var	text Float-bar-ani "底部悬浮栏渐现动画" "Default"

@var	text Discuss-shadow "讨论区评论块阴影" "Default"
@var	text Discuss-hover-shadow "讨论区评论块 hover 阴影" "Default"
@var	text Discuss-hover-shadow-ani "讨论区评论块 hover 阴影渐现动画效果" "Default"
@var	text Discuss-hd-hover-color "讨论区评论上半颜色" "Default"
@var	text Discuss-bd-hover-color "讨论区评论下半颜色" "Default"
@var	text Discuss-hover-color-ani "讨论区评论块 hover 颜色渐变动画效果" "Default"

@var	text Usernav-hover-bg-color "悬浮卡片 hover 背景色" "Default"
@var	text Usernav-hover-ani "悬浮卡片 hover 动画" "Default"

@var	text Benben-bd-hover-color "犇犇下半 hover 背景色" "Default"
@var	text Benben-bd-hover-ani "犇犇下半 hover 背景色渐变动画" "Default"

@var	text Privateletter-radius "私信圆角样式" "Default"
@var	text Privateletter-list-radius "私信选择框圆角样式" "Default"

@var	checkbox bug-fix1 "[bug-fix] '点击加载更多评论' 下存在分割线" 1
@var	checkbox bug-fix2 "[bug-fix] 部分下拉栏样式错误" 1
@var	checkbox bug-fix3 "[bug-fix] 题库通过条渲染位置不正常" 1
@var	checkbox bug-fix4 "[bug-fix] 翻页按钮宽度计算错误" 1
@var	checkbox bug-fix5 "[bug-fix] 私信 '加载更多' 文字位置异常" 1
@var	checkbox bug-fix6 "[bug-fix] 查找记录输入框边框 focus 样式异常" 1
@var	checkbox bug-fix7 "[bug-fix] 查找题单界面题单选择栏对齐异常" 1
@var	checkbox bug-fix8 "[bug-fix] 新前端代码选择框选择后文字颜色异常" 1
@var	checkbox bug-fix9 "[bug-fix] 洛谷标题文字和新前端卡片用户名极端情况下被裁剪" 1
@var	checkbox bug-fix10 "[bug-fix] 讨论区滚动条异常" 1
@var	checkbox bug-fix11 "[bug-fix] 主页签到运势勾子位置异常" 1
@var	checkbox bug-fix12 "[bug-fix] 题单界面 '查找题单' 文字对齐异常" 1
@var	checkbox bug-fix13 "[bug-fix] 团队成员编辑卡滚动条异常" 1
@var	checkbox bug-fix14 "[bug-fix] 比赛页面侧栏卡片布局错误" 1
@var	checkbox bug-fix15 "[bug-fix] 个人主页勾子位置异常" 1
@var	checkbox bug-fix16 "[bug-fix] 旧前端用户信息栏各组件未对齐" 1
@var	checkbox bug-fix17 "[bug-fix] 用户信息栏展开图标未居中" 1
@var	checkbox bug-fix18 "[bug-fix] 搜索框组件未居中" 1
@var	checkbox bug-fix19 "[bug-fix] 主页 tag 文字居中情况异常" 1
@var	checkbox bug-fix20 "[bug-fix] 老 Markdown 编辑器预览框对齐错误" 1
@var	checkbox bug-fix21 "[bug-fix] 主页翻页按钮层叠错误" 1

@var	text UserStyle "用户自定义样式" "None"
@var	text UserTag "用户自定义 Tag" "None"

==/UserStyle== */

/*
代码来源 & 致谢：

本样式的极少部分基于 氩洛谷 Re: 2024 的代码修改而来，同时颜色系统与此样式有少数重合。
本样式的相当一部分 bug-fix 由作者自己编写，整合的样式 氩洛谷-改 移植而来，同时部分美化样式和其有重合，这部分样式的其中一部分可能最初从 氩洛谷 的样式修改而来。
本样式的少部分功能由 Smart-Luogu 移植而来，并已向作者取得在 GPL 开源许可下分发，修改其代码的许可。

在高度原创性的基础上，我的样式借鉴了这些成熟样式的部分代码，感谢以上作者为洛谷美化做出的巨大贡献！
本样式仍处于早期版本，功能上欠缺良多。
*/

// 字体处理

if Fast-Font-load
	@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100..900&family=JetBrains+Mono&family=Fira+Code:wght@300..700&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap')

@-moz-document regexp("^(http(s)?://www.luogu.com(.cn)?/(.*))")
	if !Fast-Font-load
		@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100..900&family=JetBrains+Mono&family=Fira+Code:wght@300..700&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap')

	// 导入 Noto Sans
	/*google 的服务真方便吧*/

// 常量
	Default = "Default"
	None = "None"
	False = "False"

	// 选择器
		Main_Inputbox = "input[type=text],input[type=password],textarea#feed-content,.input-wrap,.combo-wrapper>.text,textarea,.mp-dialog-input>input,select,.refined-input.text,.input-group>input,textarea.lfe-form-sz-middle" // 主流样式的输入框
		Card_L1 = ".lg-article, .lg-article-sub, .lg-article-nctrl, .card:not(.float-card), .float-bottom,.l-card" // 一级卡片
		Card_L2 = ".am-panel,.inner-card,.discuss-container .discuss,.swal2-validation-message" // 二级卡片
		Card_float = "#app > nav.lfe-body .popup,.dropdown-operations,.dropdown,.cover-upload,.btn-edit-reply,.operations.float,.mp-dialog-container,.dropdown>.clone-card,.candidates,.am-modal-dialog,.cs-dialog,.l-card.container,.dropdown>.float-card" // 悬浮卡片
		Hover_card_float = "#app > nav.lfe-body .popup a,.dropdown-operations li,.dropdown li,.candidates li,.am-modal-footer"
		Shadow_card_float = ".float-card,#app > nav.lfe-body .popup, .user-nav .center,.dropdown:not(:has(>.dropdown-operations,>.float-card))"
		Title = "h1,h2,h3,h4,h5,h6,.lfe-h1,.lfe-h2,.lfe-h3,.lfe-h4,.lfe-h5,.lfe-h6,strong,.title[data-v-71e80b39],.header-link,#article-title,.lside .nav-group .group-title span.title,.rside .nav-group .group-title,#lg-alert-title,.cs-dialog-header,div#p.O>div.N.I" // 标题文字
		Text = "p,.card,#app > div.main-container > main > div > div.card.padding-default > div.selection.select-header-tiny > ul > li.selected > span,.field > .lfe-caption,div.content,blockquote,.katex-display,.lfe-marked li,.swal2-html-container,#swal2-content,.drop span,#lg-alert-message,table,.cs-editor,.ͼ5,.main-wrapper.theme-light,.core-msg,.footer-inner,.row>.content,.feed-comment,.mp-preview-content" // 正文文字
		State = ".detail,.time,.create-time,.caption,.info-content,.result-count,section>.block>.lfe-caption,.total,.lside .title,time,.article-banner .metas span,.user-info .key,.user-info .name,.collection-info" // 陈述文字
		Introduce = ".table,.lfe-caption,.user-nav .center>.ops>a,.item-title,#app>div.main-container>main>div>div.card.padding-default>div.selection.select-header-tiny>ul,.category ul.remote>li,.result-count>.number,section .title,span.forum-name,#app > nav.lfe-body .popup a,.dropdown li,.row-space-between.reply-info>div,#app > div.main-container > main > div > div > div > div.border.table > div.header-wrap > div > div.difficulty > span,#app > div.main-container > main > div > div > div > div.border.table > div.header-wrap > div > div.difficulty > span,.btn-edit-reply>span,.lside .nav-group span.title,.meta .label,.meta,.article-comment .comment-filter-line>span,body>div>div.rside .nav-group li,.mp-dialog-field label,.user-info .value,.info-rows>div>span:nth-child(1),label[for*='radio'],label[for*='check'],label[for*='LRadio'],.header b,.bar-title,.detail-container .row>span,.radio-group>span,.breadcrumb,,.candidates li,.toc>ul>li>span,.cs-footer,.content-row,.cs-dialog-item-labelm,.login-actions,.swal2-validation-message,.cs-dialog-item-label,.header>.status>.lfe-caption,.colored-link-selector .name,div.row.row-space-between.top > .content-right > a > .name,.l-flex-info-row>span,.reply-editor>div:first-child" // 介绍文字
		Divider = ".border .row[data-v-b5709dda]:not(:last-child) ,.border .header-wrap[data-v-b5709dda],.wrapper > .feed,.sub-header,.marked h1,.marked h2,.card-header,.item-row,.stat>.field,.difficulty-tags,.difficulty-tags>.row,.full-container[currenttemplate='UserNotification']>.card div,.mp-editor-container,.mp-editor-container *,.container>.menu-container,.container>.tag-select-area .section,.marked hr,.replies>.feed,nav>.nav-group::after,.panel-content .item,.panel-title,.top-container,.side,.card.wrapper.padding-none .main .editor,.page-area,.lfe-marked *,.user-nav>.nav-group::after,.header,.row-wrap > .row,.header-wrap,.am-modal-bd,.casket.cs-main *,.casket.cs-main,.cs-dialog-header,.item" // 分割线
		Other_Icon = ".user-nav a.color-none > svg > path,.refined-input svg > path,.combo-wrapper svg>path,.btn-edit-reply svg>path,.nav-group span.icon>svg>path,.user-nav svg>path,.cs-close-container,.container .close path,.dropdown>.float-card>.user-info span>span>span path,.stick-top path,.cs-toolbar-tool path" // 杂项图标
		Operate = ".feed-reply, .feed-report, .action>a,.center>footer>a,.expand-tip>span,.dropdown-operations,.header>.right>a,.load-more,.button-2line>.text,.header nav li:not(.selected),.operations>.button,ul:has(>li.selected) li:not(.selected),.am-modal-btn,.user-nav>a.login,.cs-footer-right > .cs-footer-button,.message-block>.delete,.user-nav>.text" // 操作文字
		Operate_hover = ".expand-tip>span,.dropdown-operations,.header>.right>a,.load-more,.header nav li:not(.selected),.operations>.button,ul:has(>li.selected) li:not(.selected),.am-modal-btn,.am-modal-btn,.user-nav>a.login,.cs-footer-right > .cs-footer-button,.message-block>.delete,.user-nav>.text" // 可选中操作文字
		Hover-A = ".action>a,.center>footer>a,.am-panel-primary .am-panel-title a" // 选中超链接
		A = ".avatar-right>.row.row-space-between.top>a.row.content-left.title.link.color-default,.problem-card>.action>a,.problem-card>.action>span,.clear-filter,.inner-card a,.title>a.title.color-default,.expand>a,.row>div:has(>time)>a,.reply-card>p>a,span.C.G,.row.title>a,.row div>a,.bar-item,.filter-wrapper a,.form-item.form-check>a,.form-bottom>a,.reply > .info-item,.last-link>a,.l-flex-info-row a" // 强制超链接
		ColorfulLabel = ".difficulty a.color-default[colorscheme='default']>span,.box>span.lfe-caption,span.lfe-caption.tag,a.tag.color-none>span,.difficulty-tags>.row>span.lfe-caption,.difficulty>span.lfe-caption,a.status-link>span.lfe-caption,.lfe-caption.tag>span,.author-margin>.lfe-caption,.team-authority,.inner-card span.lfe-caption[style*='color:'],.status>.lfe-caption" // 标签
		GrayLabel = '.card.info-card.center.padding-default .tags>span.tag[style*="rgb(232"]:not(.selected),.inner-card>.row>div>span.lfe-caption,.card.log.padding-default li span.lfe-caption,.row.info>span' // 灰度标签
		Topic-type-Label = ".tags-wrap.multiline>a>span,.card.info-card.center.padding-default .tag-select-area .tags>span.tag,.block-item.tag" // 题目类型标签
		Topic-difficulty-Label = ".difficulty a span.lfe-caption,.difficulty span.lfe-caption,.difficulty-tags span.lfe-caption,.block-item.tag" // 题目难度标签
		InLine-code-block = "[class*='marked'] code,.am-comment-bd p>code" // 行内代码块
		Code-block = "pre:not([mp-editor-container],.CodeMirror-line)" // 代码块
		Discuss = ".row-wrap > .card.comment.padding-default, .card.log,.article-comment .l-card.reply-item,.l-card.comment" // 讨论区评论
		Badge = ".am-badge,.user-name span.lfe-caption,a[href*='https://help.luogu.com.cn/manual/luogu/account/user-tag'] span" // 用户 Tag
		Button = ".lfe-form-sz-middle,.am-btn,.lform-size-middle,.lform-sz-middle,a[href*='http']>#go" // 中型按钮
		Small-Button = ".lfe-form-sz-small,.lform-sz-small,.lform-size-small,.copy-btn,.copy-btn.lfe-form-sz-middle" // 小型按钮
		Username = "a.color-none[href*='/user/'][target='_blank']>span,.name[style*='font-weight: bold;'],.item span>span[slot='trigger']" // 用户 id
		Avatar = "img.avatar,img.am-comment-avatar,.luogu-username>img,.message-block>img,.avatar>img" // 用户头像

// 全局工具函数

	use_stable_bg() // 设置背景相关参数
		background-repeat: no-repeat !important
		background-size: cover !important
		background-position: center !important
		background-attachment: fixed !important
	
	// 使用全局背景
	use_mainly_background(background-val = Background)
		background: background-val !important
		use_stable_bg()
	
	use_new_bar() // 我们洛谷的新前端，太美丽
		// 专栏顶栏样式修改
		body>div>div.top-bar
			background: Navbar-bg-color !important
		body>div>nav.lside,body>div>div.rside
			background: Article-sidebar-bg-color !important
			& ul>li
				transition: background Article-sidebar-card-hover-ani !important
			& ul>li:hover
				background: Article-sidebar-card-hover !important
	
	get_depend_list(args) // TODO：此处支持可能不够完备，如有更完善实现可能更改
		for arg in args
			if arg!=None
				return arg
		return false

	use_depend_list(prop,args,is_important=0) // 使用依赖列表进行变量赋值，最终顺序使用第一个可用参数，如果最终第一顺位元素值为 false，则不进行赋值
		depend = get_depend_list(args)
		if depend!=False
			if is_important
				{prop}: depend !important
			else
				{prop}: depend
	
	set_default_value(key,value) // 实现一个设置默认值的功能
		if key==Default || !(key is defined)
			return value
		else 
			return key
	
	use_img_bg_color(Color)
		transform: translateX(-10000px) !important
		filter: drop-shadow(10000px 0px 0px Color) !important

	blue_button_patch(Padding-width,Padding-height)
		border: Button-border-size-blue solid Button-bg-color-blue !important
		background: Button-bg-color-blue !important
		color: Button-default-color !important
		&:hover
			border-color: Button-hover-bg-color-blue !important
			background: Button-hover-bg-color-blue !important
		&:active
			border-color: Button-active-bg-color-blue !important
			background: Button-active-bg-color-blue !important
		padding: (Padding-height - Button-border-size-blue) (Padding-width - Button-border-size-blue)

	red_button_patch(Padding-width,Padding-height)
		border: Button-border-size-red solid Button-bg-color-red !important
		background: Button-bg-color-red !important
		color: Button-default-color !important
		&:hover
			border-color: utton-hover-bg-color-red !important
			background: Button-hover-bg-color-red !important
		&:active
			border-color: Button-active-bg-color-red !important
			background: Button-active-bg-color-red !important
		padding: (Padding-height - Button-border-size-red) (Padding-width - Button-border-size-red)

	use_jelly_ani(Button-scale)
		0%,100% 
			transform: scale(1, 1);
		25% 
			transform: scale(1 - Button-scale, 1 + Button-scale);
		50% 
			transform: scale(1 + Button-scale, 1 - Button-scale);
		75% 
			transform: scale(1 - Button-scale / 2, 1 + Button-scale / 2);

	use_contract_ani(Button-scale)
		0%,100% 
			transform: scale(1)
		50% 
			transform: scale(1 - Button-scale)
	
	use_bigger_ani(Scale)
		transform: scale(1 + Scale)
	
	use_slime_ani(Scale)
		from,to
			transform: scale(1)
		33%
			transform: scale(1 + Scale)
		66%
			transform: scale(1 - Scale)

	use_hover_line(Hover-line-ani,Hover-line-color,Hover-line-height)
		position: relative
		overflow: visible !important
		&::before
			content: ""
			width: 0
			height: Hover-line-height !important
			transition: all Hover-line-ani
			background: Hover-line-color
			position: absolute
			top: 100%
			left: 50%
		&:hover::before
			left: 0%
			width: 100%
	anti_hover_line()
		&::before
			opacity: 0 !important

	// TODO：v2.0
	use_button_style(Padding-width,Padding-height)
		line-height: 1.5 !important // 统一新老前端标准
		transition: background Button-hover-ani \, border-color Button-hover-ani\, box-shadow Button-hover-ani !important

		// 蓝色按钮
		&.am-btn-primary,&[style*="background-color: rgb(52\, 152\, 219);"],&[style*="background-color: rgba(52\, 152\, 219\, 0.9);"],&.solid,&#go
			blue_button_patch(Padding-width,Padding-height)
		&.am-btn-danger,&.lcolor-var-red-3.solid,&[style*="background-color: rgb(231\, 76\, 60);"],&[style*="background-color: rgba(231\, 76\, 60\, 0.9);"]
			red_button_patch(Padding-width,Padding-height)
		&[style*="background-color: rgba(0\, 0\, 0\, 0.5);"],&.button-transparent
			border: Button-border-size-black solid Button-border-color-black !important
			background: Button-bg-color-black !important
			color: Button-default-color !important
			&:hover
				background: Button-hover-bg-color-black !important
				opacity: 1 !important
			&:active
				background: Button-active-bg-color-black !important
			padding: (Padding-height - Button-border-size-black) (Padding-width - Button-border-size-black)
		&[style*="background-color: rgba(52\, 152\, 219\, 0);"],&[style*="background-color: rgba(52\, 152\, 219\, 0.1);"] // TODO：改掉这沟槽的东西
			border: Button-border-size-special-blue solid Button-border-color-special-blue !important
			background: Button-bg-color-special-blue !important
			&,& *
				color: Button-border-color-special-blue !important
			&:hover
				background: Button-hover-bg-color-special-blue !important
			&:active
				background: Button-active-bg-color-special-blue !important
			padding: (Padding-height - Button-border-size-special-blue) (Padding-width - Button-border-size-special-blue)
		&[style*="background-color: rgba(231\, 76\, 60\, 0);"],&[style*="background-color: rgba(231\, 76\, 60\, 0.1);"]
			border: Button-border-size-special-red solid Button-border-color-special-red !important
			background: Button-bg-color-special-red !important
			&,& *
				color: Button-border-color-special-red !important
			&:hover
				background: Button-hover-bg-color-special-red !important
			&:active
				background: Button-active-bg-color-special-red !important
			padding: (Padding-height - Button-border-size-special-red) (Padding-width - Button-border-size-special-red)
		&[style*="background-color: rgb(82\, 196\, 26);"],&[style*="background-color: rgba(82\, 196\, 26\, 0.9);"],.am-btn-success
			border: Button-border-size-green solid Button-bg-color-green !important
			background: Button-bg-color-green !important
			color: Button-default-color !important
			&:hover
				border-color: Button-hover-bg-color-green !important
				background: Button-hover-bg-color-green !important
			&:active
				border-color: Button-active-bg-color-green !important
				background: Button-active-bg-color-green !important
			padding: (Padding-height - Button-border-size-green) (Padding-width - Button-border-size-green)

		if Button-ani-select!='off'
			if Button-ani-select=='jelly'
				@keyframes Button-active
					use_jelly_ani(Button-active-scale)
			else
				@keyframes Button-active
					use_contract_ani(Button-active-scale)
			
			&:focus:not(:active)
				animation: Button-active Button-active-ani !important
		
		if No-btn-outline
			&:focus
				outline: none !important

		padding: (Padding-height - 1px) (Padding-width - 1px) // 默认 padding 大小
	
	float_fix()
		&:after
			content: ""
			display: block
			clear: both
	
	use_discuss_side()
		.sidebar-container.layout:has(.side+.main)
			if Discuss-Sidebar-right
				&>.side
					margin-right: 0 !important
					float: right !important
				&>.main
					margin-left: 0 !important
					float: left !important
			else
				&>.side
					margin-left: 0 !important
				&>.main
					margin-right: 0 !important
			@media (min-width: 769px)
				&>.side
					width: Discuss-Sidebar-width !important
					box-sizing: border-box !important
					min-width: 0 !important
					margin-left: 0 !important
					margin-right: 0 !important
					if !Discuss-Sidebar-right
						margin-right: Discuss-Sidebar-margin !important
				&>.main
					width: Discuss-Main-width !important
					min-width: 0 !important
					margin-left: 0 !important
					margin-right: 0 !important
				display: inline-block if Discuss-Sidebar-right
				width: 100%
	
	DarkMode_check(a,b)
		if DarkMode
			return a
		else
			return b

	Check(c,a,b)
		if c
			return a
		else
			return b
	
	// 亚克力基本实现转自氩洛谷 RE2024。
	// 基于伪元素的亚克力实现，不会造成层叠混乱
	acrylic_a(acr-bgcolor,blur-radius=10px)
		background: none !important
		backdrop-filter: none !important
		filter: none !important
		@layer
			&
				position: relative
		&:before
			content-visibility: auto if Content-Visibility
			height: auto !important
			width: auto !important
			transform: translate3d(0px, 0px, 0px) if Use-GPU
			background: acr-bgcolor !important
			backdrop-filter: blur(blur-radius) !important unless blur-radius == 0
			content: ""
			border-radius: @border-radius if @border-radius
			transition: @transition if @transition
			position: absolute
			pointer-events: none
			top: 0
			left: 0
			right: 0
			bottom: 0
			z-index: -1 !important
			
			
			//https://stackoverflow.com/questions/74085350/backdrop-filter-doesnt-apply-if-parents-opacity-is-less-than-1
			/*
			很遗憾，这不起作用
			transform: translateZ(0)
			backface-visibility: hidden
			*/
			
	
	// https://stackoverflow.com/questions/44522299/css-only-acrylic-material-from-fluent-design-system
	// 直接修改背景的亚克力实现，不需要修改 z-index，不会对 border-radius 造成影响，但可能造成层叠混乱
	acrylic_b(acr-bgcolor,blur-radius=10px)
		background: acr-bgcolor !important
		backdrop-filter: blur(blur-radius) !important unless blur-radius == 0

	to_s() // 将值转换为对应字符串
		return "%s%s"%((arguments) ())

	analysis_string(str) // 解析字符串
		if typeof(str)!="string"
			return str
		if str==""
			return ""
		if substr(str,0,1)=='^'
			return to_s(convert(slice(str,1)))
		else if substr(str,0,1)=='$'
			return slice(str,1)
		else
			return convert(str)
	
	analysis_user_string(str) // 转义直接在配置页面输入的字符串
		if typeof(str)!="string"
			return str
		else if substr(str,0,1)=='$'
			return analysis_string(slice(str,1))
		else 
			return str

	background()
		if substr(to_s(arguments),0,6)=='imgurl'
			val=slice(to_s(arguments),3)
			background: convert(val)
			use_stable_bg()
		else if substr(to_s(arguments),0,7)=='Acrylic'
			val='a'+slice(to_s(arguments),1)
			convert(val)
		else if to_s(arguments)=="transparent" || to_s(arguments)=="transparent !important"
			background: arguments
			&:before
				display: none !important
		else if typeof(arguments)=='rgba'
			background: arguments
		else
			background: arguments
	
	User_badge(uid, radius, bgc, textc, content_text)
		a[href*=\'{s("/user/%s",uid)}\'][target='_blank'],a.name[href*=\'{s("/user/%s",uid)}\'][style*='font-weight: bold;'], .user-header-top > img[src*=\'{s("/usericon/%s",uid)}\']+.user-info .user-name > span:first-child, .lfe-body:has(>.top-bar>.user-nav img[src*=\'{s("/usericon/%s",uid)}\']) > .user-nav.rside .luogu-username.username > .name
			overflow: visible
			&::after
				overflow: visible !important
				margin: 0 auto
				content: content_text
				font-size: 90%
				line-height: 1.5
				font-weight: 400
				padding: 0 8px
				box-sizing: border-box
				border-radius: radius !important
				display: inline-block
				color: textc
				background: bgc !important
				white-space: nowrap
				margin-left: 3px
		a.name[href*=\'{s("/user/%s",uid)}\'][style*='font-weight: bold;'], .user-header-top > img[src*=\'{s("/usericon/%s",uid)}\']+.user-info .user-name > span:first-child
			&::after
				padding: 0 .5em !important
		.user-header-top > img[src*=\'{s("/usericon/%s",uid)}\']+.user-info .user-name > span:first-child
			&::after
				font-size: 70% !important
	
// 兼容性选项
	if exlg-compatible
		Card_L2 += ",.exlg-emo-btn"
		Hover_card_float += ",.exlg-dash-options"
		Introduce += ",a.exlg-dropdown.field *"
		Hover-A += ",a.exlg-dropdown.field *"
		Card_float += ",.exlg-messages-outter > div,.exlg-show-emo,.exlg-message-inner"
		Text += ",.exlg-messages-outter *,.exlg-emo-btn,.exlg-message-inner"
		Operate += ",.exlg-unselectable>a"
		Operate_hover += ",.exlg-unselectable>a"

		if DarkMode
			Exlg-Codeheader-bg-color = set_default_value(Exlg-Codeheader-bg-color,#2f3741)
		else
			Exlg-Codeheader-bg-color = set_default_value(Exlg-Codeheader-bg-color,#eee)

// 全局变量定义
	// 用户样式解析
	if UserStyle!=None
		for key, value in UserStyle
			val = analysis_string(value)
			define(key,val)

	DefaultStyle = {
		"Card-L1-radius": "4px",
		"Card-L2-radius": "4px",
		"Card-float-radius": "5px",
		"Inputbox-radius": "4px",
		"Benben-radius": "get_depend_list(Card-L2-radius, 4px)",
		"InLine-code-block-radius": "3px",
		"Code-block-radius": "5px",
		"InLine-code-block-border": "^Check(InLine-code-block-border-del,none,1px solid)",
		"Code-block-border": "^Check(Code-block-border-del,none,1px solid)",
		"Luogu-discuss-color-2": "#14558f",
		"Luogu-discuss-color-3": "#f39c11",
		"Luogu-discuss-color-4": "#9d3dcf",
		"Luogu-discuss-color-5": "#52c41a",
		"Luogu-discuss-color-6": "#2949b4",
		"Background-color": "DarkMode_check(#141725, #efefef)",
		"Card-bg-color-L1": "DarkMode_check(#252d38, #fcfcfc)",
		"Card-bg-color-L2": "DarkMode_check(#2f3741, #fff)",
		"Header-bg-color": "Check(CustomBackground!=None,none,DarkMode_check(linear-gradient(90deg,#282828,#1a1a1a), linear-gradient(90deg, rgb(35, 37, 38), rgb(65, 67, 69))))",
		"Footer-bg-color": "Check(CustomBackground!=None,none,DarkMode_check(#1a1a1a, linear-gradient(150deg,#708090 15%,#2F4F4F 70%,#000000 94%)))",
		"Card-bg-color-float": "DarkMode_check(#242C38, #fff)",
		"Card-hover-color-float": "DarkMode_check(#3e4752, #e5e5e5)",
		"Text-color": "DarkMode_check(#c4c6c9, rgba(0,0,0,.75))",
		"State-color": "DarkMode_check(rgba(255,255,255,0.45), rgba(0,0,0,0.45))",
		"Introduce-color": "DarkMode_check(#c4c6c9, rgba(0,0,0,.75))",
		"Operate-color": "DarkMode_check(#999999, #999999)",
		"Operate-hover-color": "DarkMode_check(#dcdcdc, #3f3f3f)",
		"Topic-text-color": "DarkMode_check(#fff, #fff)",
		"ColorfulLabel-text-color": "DarkMode_check(#fff, #fff)",
		"GrayLabel-text-color": "DarkMode_check(#dddddd, #3a3a3a)",
		"GrayLabel-border-color": "DarkMode_check(#3f6b91, #bebebe)",
		"GrayLabel-bg-color": "DarkMode_check(#162430, #e8e8e8)",
		"A-color": "DarkMode_check(#5e72e4, #3498db)",
		"A-hover-color": "DarkMode_check(#0056b3, #095f8a)",
		"Scrollbar-track-color": "DarkMode_check(#161926, rgba(0, 0, 0, 0.05))",
		"Scrollbar-thumb-color": "DarkMode_check(#57626f, rgba(0, 0, 0, 0.2))",
		"Scrollbar-hover-color": "DarkMode_check(#5e72e4, #808080)",
		"Navbar-bg-color": "DarkMode_check(#1f3144, #fff)",
		"Input-bg-color": "DarkMode_check(#2f3741, #fff)",
		"Input-focus-bg-color": "DarkMode_check(Input-bg-color, Input-bg-color)",
		"Input-border-color": "DarkMode_check(#a7a9ad, #bfbfbf)",
		"Input-focus-border-color": "DarkMode_check(#3498db, #409eff)",
		"Input-text-color": "DarkMode_check(#dcdcdc, #000)",
		"Input-placeholder-color": "DarkMode_check(#c4c6c9, rgba(0,0,0,.5))",
		"Sidebar-bg-color": "DarkMode_check(#162430, #34495E)",
		"Sidebar-icon-color": "DarkMode_check(#dddddd, #dddddd)",
		"Sidebar-btn-color": "DarkMode_check(#dddddd, #dddddd)",
		"Sidebar-luogu-bg-color": "DarkMode_check(#4682b4, #3498db)",
		"Sidebar-luogu-icon-color": "DarkMode_check(#fffaf0, #fff)",
		"L2-Card-border": "DarkMode_check(#435266, #e8e8e8)",
		"Post-heading-color": "DarkMode_check(#c4c6c9, rgba(0,0,0,.75))",
		"Benben-hd-color": "DarkMode_check(get_depend_list(Card-bg-color-L2), #f8f8f8)",
		"Benben-bd-color": "DarkMode_check(get_depend_list(Card-bg-color-L1), #fff)",
		"Discuss-hd-color": "DarkMode_check(get_depend_list(Card-bg-color-L2), #f8f8f8)",
		"Discuss-bd-color": "DarkMode_check(get_depend_list(Card-bg-color-L1), #fff)",
		"Homepage-a-green": "DarkMode_check(#5eb95e, #5eb95e)",
		"Homepage-a-red": "DarkMode_check(#dd514c, #dd514c)",
		"Divider-color": "DarkMode_check(#435266, #e8e8e8)",
		"Directory-a-color": "DarkMode_check(rgba(255,255,255,.75), rgba(255,255,255,.75))",
		"Other-icon-color": "DarkMode_check(#c4c6c9, #333333)",
		"Card-icon-color": "DarkMode_check(#333, #333)",
		"Luogu-discuss-color-1": "DarkMode_check(#fff, #272727)",
		"Main-post-heading-color": "DarkMode_check(#fff, #fff)",
		"Topic-type-Label-not-select": "DarkMode_check(#3f3f3f, #e8e8e8)",
		"InLine-code-block-bg-color": "DarkMode_check(#3e4752, #f8f8f8)",
		"Code-block-bg-color": "DarkMode_check(#0d1117, #f8f8f8)",
		"InLine-code-block-border-color": "DarkMode_check(#3e4752, #e8e8e8)",
		"Code-block-border-color": "DarkMode_check(#0d1117, #eeeeee)",
		"Code-block-text-color": "DarkMode_check(#b6b8c2, #36464e)",
		"Code-block-quote-color": "DarkMode_check(#5c6370, #707070)",
		"Code-block-meta-color": "DarkMode_check(#f06090, #f06090)",
		"Code-block-meta-string-color": "DarkMode_check(#2fb170, #2fb170)",
		"Code-block-string-color": "DarkMode_check(#2fb170, #2fb170)",
		"Code-block-keyword-color": "DarkMode_check(#6791e0, #6791e0)",
		"Code-block-title-color": "DarkMode_check(#c973d9, #c973d9)",
		"Code-block-number-color": "DarkMode_check(#e6695b, #e6695b)",
		"Code-block-params-color": "DarkMode_check(#da70d6, #da70d6)",
		"Article-bg-color": "DarkMode_check(#1e2334, #fafafa)",
		"Article-text-bg-color": "DarkMode_check(#252d38, #ffffff)",
		"Article-sidebar-bg-color": "DarkMode_check(#1f3144, #fff)",
		"Article-icon-color": "DarkMode_check(#c4c6c9, #333)",
		"Privateletter-bg-color": "DarkMode_check(#12161c, #e8e8e8)",
		"Benben-tab-bg-color": "DarkMode_check(#252d38, #fff)",
		"Benben-tab-hover-color": "DarkMode_check(#2f3741, #eee)",
		"Benben-tab-text-color": "DarkMode_check(#5e72e4, #3498db)",
		"Benben-tab-focus-bg-color": "DarkMode_check(#0056b3, #48D1CC)",
		"Benben-tab-focus-text-color": "DarkMode_check(#fff, #fff)",
		"Spinner-dark-color": "DarkMode_check(#fff, #333)",
		"Markdown-button-hover-bg-color": "DarkMode_check(#2f3741, #fff)",
		"Markdown-button-hover-border": "^DarkMode_check(1px solid #2f3741, 1px solid #fff)",
		"Markdown-button-hover-text-color": "DarkMode_check(#0056b3, #095f8a)",
		"Highcharts-bg-color": "DarkMode_check(#5e72e426, #5e72e426)",
		"Highcharts-line-color": "DarkMode_check(#871F78, '')",
		"Highcharts-point-color": "DarkMode_check(#5e72e4, #87CEEB)",
		"Highcharts-hover-point-color": "DarkMode_check(#0056b3, '')",
		"Highcharts-hover-point-border-color": "DarkMode_check(#fff, '')",
		"Highcharts-hover-bigpoint-color": "DarkMode_check(#7cb5ec,'')",
		"Highcharts-strip-color": "DarkMode_check(rgba(61,89,171,0.55), rgba(61,89,171,0.55))",
		"Highcharts-strip-border-color": "DarkMode_check(#d49ee6ad, #d49ee6ad)",
		"Highcharts-strip-hover-color": "DarkMode_check(rgba(61,89,171,0.75), rgba(61,89,171,0.65))",
		"Highcharts-text-color": "DarkMode_check(#c4c6c9, '')",
		"Highcharts-text-bg-color": "DarkMode_check(rgba(18,22,28,0.75), '')",
		"Highcharts-text-border-color": "DarkMode_check(#8e44ad, '')",
		"Highcharts-text-point-color-1": "DarkMode_check(#7cb5ec, '')",
		"Highcharts-text-point-color-2": "DarkMode_check(#c4c6c9, '')",
		"Progressframe-color": "DarkMode_check(#5e72e4, #3498db)",
		"Progressframe-bg-color": "DarkMode_check(#141725, #e8e8e8)",
		"Big-button-bg-color": "DarkMode_check(#2f3741, #fafafa)",
		"Big-button-border": "^DarkMode_check(1px solid #435266, 1px solid #e8e8e8)",
		"Big-button-border-hover": "^DarkMode_check(1px solid #0056b3, 1px solid #89d1f5)",
		"Small-button-bg-color": "DarkMode_check(#2f3741, #fff)",
		"Small-button-select-bg-color": "DarkMode_check(#5e72e4, #3498db)",
		"Small-button-border": "^DarkMode_check(1px solid #435266, 1px solid #bfbfbf)",
		"Small-button-border-hover": "^DarkMode_check(1px solid #0056b3, 1px solid #3498db)",
		"Small-button-text-select-color": "DarkMode_check(#fff, #fff)",
		"Footer-bigtext-color": "DarkMode_check(#fffaf0, #fff)",
		"Footer-img-color": "DarkMode_check(#fffaf0, #fff)",
		"Card-L1-shadow": "^DarkMode_check(none, 0 5px 15px rgba(50,50,93,.1)\,0 5px 8px rgba(0,0,0,.07))",
		"Card-L1-hover-shadow": "^DarkMode_check(none, 0 10px 30px rgba(50,50,93,.1)\,0 5px 15px rgba(0,0,0,.07))",
		"Benben-shadow": "^DarkMode_check(none, 0 3px 5px rgba(50,50,93,.1)\, 0 2px 3px rgba(0,0,0,.08))",
		"Benben-hover-shadow": "^DarkMode_check(none, 0 7px 14px rgba(50,50,93,.1)\, 0 3px 6px rgba(0,0,0,.08))",
		"Benben-hover-ani": "^DarkMode_check(none, .15s ease)",
		"Privateitem-hover-bg-color": "DarkMode_check(#3e4752, #e8e8e8)",
		"Combowrapper-text-color": "DarkMode_check(#dcdcdc, rgba(0, 0, 0, 0.75))",
		"Expand-shadow": "^DarkMode_check(linear-gradient(rgba(255,255,255,0), rgba(128,128,128,0.5)), linear-gradient(rgba(255, 255, 255, 0), #fff))",
		"Article-sidebar-card-hover": "DarkMode_check(#3e4752, #e5e5e5)",
		"Markdown-gutter-color": "DarkMode_check(#242c38, #f7f7f7)",
		"Markdown-gutter-active-color": "DarkMode_check(#3e4752, #e2f2ff)",
		"Markdown-line-active-color": "DarkMode_check(#cceeff44, #cceeff44)",
		"Markdown-bg-color": "DarkMode_check(#2f3741, #fff)",
		"Text-selection-color": "DarkMode_check(#474c63, #afeeee)",
		"Codeblock-text-selection-color": "DarkMode_check(#264f78, #d6d6d6)",
		"Markdown-text-selection-color": "DarkMode_check(#264f78, #d6d6d6)",
		"Control-nav-bg-color": "DarkMode_check(#a7a9ad, #c4c6c9)",
		"Control-nav-active-bg-color": "DarkMode_check(#5e72e4, #3498db)",
		"UpdEditer-gutter-color": "DarkMode_check(#242c38, #ebebeb)",
		"UpdEditer-gutter-active-color": "DarkMode_check(#3e4752, #dcdcdc)",
		"UpdEditer-line-active-color": "DarkMode_check(#596874, #fffbd1)",
		"UpdEditer-linenumber-color": "DarkMode_check(#999999, #999999)",
		"UpdEditer-bg-color": "DarkMode_check(#2f3741, #fff)",
		"Select-button-hover-bg-color": "DarkMode_check(#3e4752, #f6f6f6)",
		"Privateletter-right-bg-color": "DarkMode_check(#4682b4, #3498db)",
		"Privateletter-right-text-color": "DarkMode_check(#f2faff, #f2faff)",
		"Top-progress-color": "DarkMode_check(#5e72e4, #3498db)",
		"Table-color": "DarkMode_check(#c4c6c9, #ddd)",
		"Article-progress-color": "DarkMode_check(#5e72e4, #3498db)",
		"Checkin-Time-color": "DarkMode_check(#1aae6f, #396a42)",
		"Swal-shadow": "^DarkMode_check(none, 0 0 .625em #d9d9d9)",
		"Blockquote-border-color": "DarkMode_check(#354a83, #eeeeee)",
		"Topic-type-Label-algorithm": "#2949b4",
		"Topic-type-Label-source": "#13c2c2",
		"Topic-type-Label-time": "#3498db",
		"Topic-type-Label-area": "#52c41a",
		"Topic-type-Label-special": "#f39c11",
		"Homepage-L2-Card-green": "rgba(94,185,94,.15)",
		"Homepage-L2-Card-green-border": "DarkMode_check(rgba(42,97,42,.7),darken(Homepage-L2-Card-green,30%))",
		"Homepage-L2-Card-red": "rgba(221,81,76,.15)",
		"Homepage-L2-Card-red-border": "DarkMode_check(rgba(125,27,24,0.5),darken(Homepage-L2-Card-red,30%))",
		"Homepage-L2-Card-blue-border": "DarkMode_check(rgba(70, 130, 180,.7),rgba(135,206,235,.7))",
		"Topic-difficulty-Label-1": "#bfbfbf",
		"Topic-difficulty-Label-2": "#fe4c61",
		"Topic-difficulty-Label-3": "#f39c11",
		"Topic-difficulty-Label-4": "#ffc116",
		"Topic-difficulty-Label-5": "#52c41a",
		"Topic-difficulty-Label-6": "#3498db",
		"Topic-difficulty-Label-7": "#9d3dcf",
		"Topic-difficulty-Label-8": "DarkMode_check(#000,#0e1d69)",
		"Test-case-margin-right": "10px",
		"Test-case-margin-bottom": "12px",
		"Test-case-margin-top": "25px",
		"Test-case-size": "96px",
		"Test-case-ani": "^.2s ease",
		"Test-case-shadow": "^0 4px 6px rgba(50,50,93,.11), 0 1px 3px rgba(0,0,0,.08)",
		"Test-case-border-radius": "3px",
		"Test-case-translate": "3px",
		"Test-case-hover-shadow": "^0 10px 30px rgba(50,50,93,0.1),0 5px 15px rgba(0,0,0,0.07)",
		"Test-case-message-ani": "^.45s ease",
		"Test-case-message-shadow": "^0 4px 6px rgba(50,50,93,.11), 0 1px 3px rgba(0,0,0,.08)",
		"Test-case-message-color": "#fff",
		"Test-case-background": "rgba(23,43,77,0.8)",
		"Test-case-color-AC": "#52c41a",
		"Test-case-color-WA": "#fb6340",
		"Test-case-color-RE": "#8e44ad",
		"Test-case-color-TLE": "#001277",
		"Test-case-color-MLE": "#000000",
		"Test-case-color-OLE": "TLE",
		"Test-case-color-UKE": "#34495e",
		"Test-case-text-color": "#fff",
		"article-icon-1-color": "#fea706",
		"article-icon-2-color": "#e07090",
		"article-icon-3-color": "DarkMode_check(#ac3725,#fa0000)",
		"article-icon-4-color": "#3498db",
		"Sidebar-popup-padding": "10px",
		"Sidebar-popup-ani": "^fade 0.2s ease",
		"Float-card-hover-ani": ".3s",
		"Highcharts-hover-bigpoint-op": "0.25",
		"Userpage-text-color": "#fff",
		"Badge-text-color": "#fff",
		"Badge-border-radius": "2px",
		"Label-border-radius": "2px",
		"Footer-text-color": "rgba(255,255,255,.75)",
		"Footer-text-hover-color": "#fff",
		"Card-L1-hover-transition": ".15s ease",
		"Operate-hover-ani": "^.4s ease",
		"Privateitem-hover-ani": ".3s",
		"Discuss-button-ani": ".3s",
		"Article-rside-width": "240px",
		"Button-bg-color-blue": "#3498db",
		"Button-bg-color-black": "#121212",
		"Button-bg-color-red": "#e74c3c",
		"Button-bg-color-special-red": "transparent",
		"Button-bg-color-special-blue": "transparent",
		"Button-bg-color-green": "#52c41a",
		"Button-hover-bg-color-blue": "#0c79b1",
		"Button-hover-bg-color-black": "#1f3144",
		"Button-hover-bg-color-red": "#d4483a",
		"Button-hover-bg-color-special-red": "rgba(231,76,60,0.1)",
		"Button-hover-bg-color-special-blue": "rgba(52,152,219,0.1)",
		"Button-hover-bg-color-green": "#4aaa4a",
		"Button-active-bg-color-blue": "#0a6c9e",
		"Button-active-bg-color-black": "#1f364e",
		"Button-active-bg-color-red": "#bc4033",
		"Button-active-bg-color-special-red": "rgba(231,76,60,0.14)",
		"Button-active-bg-color-special-blue": "rgba(52,152,219,0.14)",
		"Button-active-bg-color-green": "#398339",
		"Button-border-color-black": "#7b7c7c",
		"Button-border-color-special-red": "#e74c3c",
		"Button-border-color-special-blue": "#3498db",
		"Button-border-size-blue": "1px",
		"Button-border-size-black": "1px",
		"Button-border-size-red": "1px",
		"Button-border-size-special-red": "1px",
		"Button-border-size-special-blue": "1px",
		"Button-border-size-green": "1px",
		"Button-radius": "3px",
		"Small-button-radius": "3px",
		"Button-padding-width": "15px",
		"Button-padding-height": "5.382px",
		"Small-button-padding-width": "8px",
		"Small-button-padding-height": "2.75px",
		"Button-hover-ani": "^.3s ease-out",
		"Expand-radius": "5px",
		"Homepage-L2-Card-blue-text-color": "#fff",
		"Control-nav-ani": "^0.5s ease",
		"Font-Stack": "^Noto Sans SC",
		"Code-block-fontstack": "^JetBrains Mono",
		"Markdown-linenumber-color": "#6c6c6c",
		"Test-case-color-QUE": "#14558f",
		"UpdEditer-text-color": "DarkMode_check(#bcbec4,#000)",
		"UpdEditer-operator-color": "DarkMode_check(#bcbec4,#000)",
		"UpdEditer-punctuation-color": "DarkMode_check(#bcbec4,#000)",
		"UpdEditer-paren-color": "DarkMode_check(#bcbec4,#000)",
		"UpdEditer-quote-color": "#7e7f84",
		"UpdEditer-string-color": "#6aab73",
		"UpdEditer-keyword-color": "#cf8e6d",
		"UpdEditer-number-color": "#2aacb8",
		"UpdEditer-type-color": "#8888c6",
		"UpdEditer-func-color": "#8888c6",
		"Difficulty-text-color-1": "Topic-difficulty-Label-1",
		"Difficulty-text-color-2": "Topic-difficulty-Label-2",
		"Difficulty-text-color-3": "Topic-difficulty-Label-3",
		"Difficulty-text-color-4": "Topic-difficulty-Label-4",
		"Difficulty-text-color-5": "Topic-difficulty-Label-5",
		"Difficulty-text-color-6": "Topic-difficulty-Label-6",
		"Difficulty-text-color-7": "Topic-difficulty-Label-7",
		"Difficulty-text-color-8": "Topic-difficulty-Label-8",
		"Problem-tag-radius": "5px",
		"Problem-tag-padding": "^0.5px 9px",
		"Problem-tag-ani": "^0.15s ease-out",
		"Problem-tag-hover-trans": "1px",
		"Problem-tag-hover-shadow": "^DarkMode_check(none,0 4px 6px rgba(50,50,93,.11), 0 1px 3px rgba(0,0,0,.08))",
		"Benben-tab-height": "Check(Better-Benben-Tab,50px,36.8px)",
		"A-hover-ani": "^0.15s ease-out",
		"Button-default-color": "#fff",
		"Username-color-1": "#bfbfbf",
		"Username-color-2": "#3498db",
		"Username-color-3": "#52c41a",
		"Username-color-4": "#f39c11",
		"Username-color-5": "#fe4c61",
		"Username-color-6": "#8e44ad",
		"Username-color-7": "#ad8b00",
		"Input-active-ani": "^0.3s ease-out",
		"Header-ani-padding": "30px",
		"Header-ani": "^0.75s ease",
		"Header-text-ani-padding": "100px",
		"Header-text-ani": "^0.75s ease",
		"Problem-select-bar-bg-color": "#e0f7ff",
		"Problem-select-bar-active-bg-color": "#3498db",
		"Problem-select-bar-text-color": "Introduce-color",
		"Problem-select-bar-hbg-text-color": "#3498db",
		"Problem-select-bar-active-text-color": "#fff",
		"Problem-select-bar-hbg-text-hover-color": "#0056b3",
		"Problem-select-bar-text-hover-color": "DarkMode_check(#fff,#000)",
		"Problem-select-bar-text-hover-ani": "^0.6s ease",
		"Problem-select-bar-bg-hover-ani": "^0.6s ease",
		"Input-active-shadow": "^inset 0 1px 1px rgba(0,0,0,.075),0 0 5px rgba(59,180,242,.3)",
		"Card-select-bar-hover-ani": "^.3s ease",
		"Card-select-bar-select-color": "#3498db",
		"Card-select-bar-out-ani": "^.6s ease",
		"SideBar-shadow": "^Check(Smart-SideBar&&!DarkMode,4px 5px 15px rgba(91, 91, 91, .5),none)",
		"SideBar-position": "50%",
		"SideBar-ani": "^0.75s ease",
		"Button-active-scale": "0.05",
		"Button-active-ani": "^0.2s ease-out",
		"Discuss-Sidebar-width": "Check(Discuss-Sidebar-right,calc(25% - 1em),calc(20% - 1em))",
		"Discuss-Main-width": "Check(Discuss-Sidebar-right,calc(75%),calc(80% - 5em))",
		"Discuss-Sidebar-margin": "1em",
		"Markdown-fontstack": "'Fira Code', 'Source Code Pro', 'Noto Sans SC'",
		"Input-active-scale": "0.005",
		"Input-active-anim": "^0.4s ease-out",
		"A-hover-line-ani": ".3s",
		"A-hover-line-color": "rgba(255, 0, 0, .575)",
		"A-hover-line-height": "1.5px",
		"Usernav-box-margin": "10px",
		"Usernav-box-ani-margin": "-50px",
		"Usernav-box-ani": "^0.75s ease",
		"Usernav-box-radius": "Check(Better-Usernav-box,10px,5px)",
		"Prob-lcard-width": "calc(66.67% - .5em)",
		"Prob-side-width": "calc(33.33% - .5em)",
		"Float-Card-shadow": "^DarkMode_check(none,0 0.5rem 2rem 0 rgba(0, 0, 0, .2))",
		"Table-radius": "4px",
		"Avatar-hover-scale": "0.07",
		"Avatar-hover-ani": "^Check(Avatar-ani-select=='bigger',.26s ease-out,.6s ease-out)",
		"Article-progress-bg-color": "transparent",
		"Article-progress-height": "5px",
		"Article-progress-ani": "^5s linear",
		"Usernav-icon-hover-color": "DarkMode_check(#5e72e4,#4682b4)",
		"Usernav-navbar-icon-hover-color": "DarkMode_check(#5e72e4,#3498db)",
		"Usernav-icon-hover-ani": "^.4s ease",
		"Article-icon-hover-ani": "^.5s ease",
		"AD-font-color": "#fff",
		"AD-font-bg-color": "rgba(51,51,51,0.45)",
		"AD-font-size": "20px",
		"AD-font-bg-width": "24px",
		"AD-font-bg-height": "48px",
		"AD-font-bg-radius": "5px",
		"AD-font-bg-hoverimg-color": "rgba(51,51,51,0.7)",
		"AD-font-bg-hover-color": "rgba(51,51,51,1)",
		"AD-font-bg-ani": "^.3s ease",
		"Luogu-article-color-1": "DarkMode_check(#fff,#272727)",
		"Luogu-article-color-2": "#3498db",
		"Luogu-article-color-3": "#f39c11",
		"Luogu-article-color-4": "#9d3dcf",
		"Luogu-article-color-5": "#70ad47",
		"Luogu-article-color-6": "#2949b4",
		"Luogu-article-color-7": "#fe4c61",
		"Directory-a-hover-color": "#fff",
		"Directory-a-hover-ani": "^.4s ease",
		"Usertag-color-1": "#bfbfbf",
		"Usertag-color-2": "#3498db",
		"Usertag-color-3": "#52c41a",
		"Usertag-color-4": "#f39c11",
		"Usertag-color-5": "#fe4c61",
		"Usertag-color-6": "#8e44ad",
		"Usertag-color-7": "#ad8b00",
		"Usersvg-color-1": "#52c41a",
		"Usersvg-color-2": "#3498db",
		"Usersvg-color-3": "#ffc116",
		"Username-color-ani": "^.2s ease",
		"Username-hover-color-1": "#8e8e8e",
		"Username-hover-color-2": "#095f8a",
		"Username-hover-color-3": "#338809",
		"Username-hover-color-4": "#b4820a",
		"Username-hover-color-5": "#cf3346",
		"Username-hover-color-6": "#611d7d",
		"Username-hover-color-7": "#9f8416",
		"Usertag-hover-color-1": "#8e8e8e",
		"Usertag-hover-color-2": "#095f8a",
		"Usertag-hover-color-3": "#338809",
		"Usertag-hover-color-4": "#b4820a",
		"Usertag-hover-color-5": "#cf3346",
		"Usertag-hover-color-6": "#611d7d",
		"Usertag-hover-color-7": "#9f8416",
		"Usertag-color-ani": "^.4s ease",
		"Usersvg-mid-color": "#fff",
		"Usersvg-mid-hover-color": "#fff",
		"Usersvg-hover-color-1": "#338809",
		"Usersvg-hover-color-2": "#095f8a",
		"Usersvg-hover-color-3": "#d4a423",
		"Usersvg-hover-ani": "^.4s ease",
		"Article-sidebar-card-hover-ani": "^0.17s ease-out",
		"UserNotification-active-color": "DarkMode_check(#5e72e4,#3498db)",
		"UserNotification-ani": "^.4s ease",
		"Problem-sol-icon-act-color": "#e07090",
		"Main-title-size": "1.75em",
		"Navbar-height": "4em",
		"Header-narrow-height": "8em",
		"Header-normal-height": "10em",
		"Header-new-narrow-height": "120px",
		"Header-new-normal-height": "120px",
		"Markdown-text-color": "DarkMode_check(#dcdcdc, #000)",
		"Markdown-text-delete-color": "#e74c3c",
		"Markdown-text-strong-color": "Markdown-text-color",
		"Markdown-text-italic-color": "#cc7832",
		"Markdown-text-variable-color": "#05a",
		"Markdown-text-title-color": "DarkMode_check(#5e72e4, #3498db)",
		"Markdown-text-codetag-color": "#2fb170",
		"Markdown-text-codename-color": "#2fb170",
		"Markdown-atext-color": "#cc7832",
		"Markdown-a-color": "#2fb170",
		"Card-hover-bg-color-L1": "None",
		"Card-hover-bg-color-L2": "None",
		"Card-hover-bg-color-L1-ani": "^0.5s ease",
		"Card-hover-bg-color-L2-ani": "^0.5s ease",
		"Float-bar-ani": "0.6s cubic-bezier(0.5, 1)",
		"Discuss-shadow": "^DarkMode_check(none, 0 5px 15px rgba(50,50,93,.1)\,0 5px 8px rgba(0,0,0,.07))",
		"Discuss-hover-shadow": "^DarkMode_check(none, 0 10px 30px rgba(50,50,93,.1)\,0 5px 15px rgba(0,0,0,.07))",
		"Discuss-hover-shadow-ani": "0.15s",
		"Discuss-hd-hover-color": "Discuss-hd-color",
		"Discuss-bd-hover-color": "Discuss-bd-color",
		"Discuss-hover-color-ani": "^0.5s ease",
		"Usernav-hover-bg-color": "Card-bg-color-float", 
		"Usernav-hover-ani": "^.3s ease",
		"Benben-bd-hover-color": "Benben-bd-color",
		"Benben-bd-hover-ani": "^0.5s ease",
		"Privateletter-list-radius": "0",
		"Privateitem-hover-text-color": "None"
	}

	null_key = lookup("null_key")
	for key, value in DefaultStyle
		if (typeof(lookup(key))=="string" && lookup(key)==Default)
			val = analysis_string(value)
			define(key,val)
		else if typeof(lookup(key))=="string"
			val = analysis_user_string(value)
			define(key,val)

	// 卡片化判断
	if Better-article-card=="auto"
		if CustomBackground!=None
			Better-article-card = "on"
		else
			Better-article-card = "off"
	
	if Better-article-card=="on"
		Card_L1 += ",.main-container.lside-bar>main.lcolor-bg-grey-1"
		Card_L2 += ",.article-comment.columba-content-wrap.wrapper>.l-card"

	// 全局背景
		// 根据有无背景图片设置背景模式
		Background = get_depend_list((CustomBackground Background-color))
		Article-Background = get_depend_list((CustomBackground Article-bg-color))

@-moz-document regexp("^(http(s)?://www.luogu.com(.cn)?/(.*))") // 二级自定义字体
	if Better-font
		if DarkMode
			Codeblock-better-color1 = set_default_value(Codeblock-better-color1,#ffd70a)
			Codeblock-better-color2 = set_default_value(Codeblock-better-color2,#da63a1)
			Codeblock-better-color3 = set_default_value(Codeblock-better-color3,#c4c6c9)
		else
			Codeblock-better-color1 = set_default_value(Codeblock-better-color1,#f34c61)
			Codeblock-better-color2 = set_default_value(Codeblock-better-color2,#da63a1)
			Codeblock-better-color3 = set_default_value(Codeblock-better-color3,#36464e)

		@font-face
			font-family: 'FontWithASyntaxHighlighter'
			font-style: dark
			font-weight: 300 700

			src: url(https://imgservices-1252317822.image.myqcloud.com/coco/s08172024/3b03a24c.50xym2.woff2) format('woff2')
			unicode-range: U+003B-003B,U+0028-0029,U+005B-005B,U+005D-005D,U+007B-007B,U+007D-007D

			// 目前仅修改 , ; ( ) [ ] { }

		@font-palette-values --Alternate
			font-family: "FontWithASyntaxHighlighter"
			override-colors:
				0 Codeblock-better-color1, // 这个是 {}
				4 Codeblock-better-color2, // 这个是 []()
				8 Codeblock-better-color3; // 这个是 ;

if Winter-Tag
	@-moz-document regexp("^(http(s)?://www.luogu.com(.cn)?/(.*))")
		@import url('https://cdn.jsdelivr.net/gh/TLEWA/O2-luogu@%E5%89%8D%E7%9E%BB%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95/Lib/WinterTag.css');

// 全局样式
@-moz-document regexp("^(http(s)?://www.luogu.com(.cn)?/(.*))")
	body // 应用全局背景
		use_mainly_background()
	html
		background: unset !important
	
	// Tag 系统
	if UserTag!="None"
		for usertag in UserTag
			User_badge(usertag["uid"], usertag["border-radius"], usertag["background"], usertag["color"], usertag["content"])

	if Smooth-scroll // 平滑滚动自定义项
		body,html
			scroll-behavior: smooth
	
	// 滚动条样式修改
	if Custom-Scrollbar
		::-webkit-scrollbar 
			width: 6px
			height: 10px
			
		::-webkit-scrollbar-track
			background: Scrollbar-track-color
		
		::-webkit-scrollbar-thumb
			background: Scrollbar-thumb-color

			&:hover
				background: Scrollbar-hover-color
	
	// 输入框样式修改
	{Main_Inputbox}
		transition: border-color Input-active-ani,box-shadow Input-active-ani !important
		border-radius: Inputbox-radius !important if Custom-Inputbox
		use_depend_list(background,(Input-bg-color Card-bg-color-L1),1) // 设置背景色
		use_depend_list(color,(Input-text-color),1);
		use_depend_list(border-color,(Input-border-color Input-text-color),1)
		&:focus
			use_depend_list(background-color,(Input-focus-bg-color Card-bg-color-L2),1)
		&::placeholder
			use_depend_list(color,(Input-placeholder-color));
		&:focus,&.focused,&:focus-within
			border-color: Input-focus-border-color !important
			box-shadow: Input-active-shadow !important
		&:not(textarea):focus:not(:active) // 修补一下动画冲突 TODO：把这个也加上动画
			animation: none !important
		&:is(textarea)
			if Input-ani-select!='off'
				if Input-ani-select=='jelly'
					@keyframes Input-active
						use_jelly_ani(Input-active-scale)
				else
					@keyframes Input-active
						use_contract_ani(Input-active-scale)

				&:focus:not(:active)
					animation: Input-active Input-active-anim !important
	input[type="password"]
		font-family:  -apple-system, BlinkMacSystemFont, "San Francisco", "Helvetica Neue", "Noto Sans", "Noto Sans CJK SC", "Noto Sans CJK", "Source Han Sans", "PingFang SC", "Segoe UI", "Microsoft YaHei", sans-serif !important

	.mp-dialog-input>input:focus-visible,.cs-dialog-item-content:focus-visible // MarkDown 编辑器 outline 消除（这个 outline 太魔怔了）
		outline: 0 !important
	.input-wrap > input,.refined-input > input
		background: none !important
		backdrop-filter: none !important
	
	section>.block>button.block-item // 题库 “算法来源” 按钮
		border-radius: Inputbox-radius !important if Custom-Inputbox
		use_depend_list(background,(Input-bg-color Card-bg-color-L1),1)
		color: Input-placeholder-color !important

	.block.filter-tags .combo-wrapper>.text>span // 题目难度选择框为统一观感特殊处理成统一颜色
		color: Input-placeholder-color !important

	// 普通多项选择框文字样式
	.combo-wrapper>.text>span,div.combo-wrapper>.text
		color: Combowrapper-text-color !important

	// 洛谷的顶栏（老前端，404，私信）样式修改
	.wrapper.wrapped.lfe-body.header-layout.tiny,.header:has(>.max)
		z-index: 4 !important
		use_depend_list(background,(Navbar-bg-color Card-bg-color-L1),1)
		& .background
			background: none !important
		height: Navbar-height !important

	// 洛谷右上悬浮卡图标样式修改
	.header > .user-nav a.icon > svg > path,.header > .user-nav a.icon-btn > svg > path // 悬浮卡片样式
		fill: Card-icon-color !important
	
	.user-nav
		& a:has(>svg)
			& > svg > path
				transition: fill Usernav-icon-hover-ani !important
			& > svg:hover > path
				fill: Usernav-navbar-icon-hover-color !important
	.header > .user-nav
		& a:has(>svg)
			& > svg:hover > path
				fill: Usernav-icon-hover-color !important

	// 更好的个人信息框
	if Better-User-nav // 移植 exlg 样式
		Hover_card_float+=",.center>.ops>a.color-none"
		.dropdown>.center>.ops>a.color-none
			width: auto !important
			align-items: center !important
			justify-content: space-between !important
			padding: 6px 14px !important
			font-size: 14px !important
			border-radius: 8px !important
			cursor: pointer !important
			margin: 2px !important
			width: 14em !important
			text-align: left !important
			& svg
				margin-right: 8px !important
				width: 16px !important
		.dropdown>.center>.ops>a.color-none:after
			position: unset !important
			transform: rotate(-90deg) !important
			content: url("data:image/svg+xml;charset=UTF-8, %3Csvg%20style=%22fill:%20rgb(108,%20117,%20125);%22%20width=%2210%22%20height=%2210%22%20viewBox=%220%200%209%209%22%20fill=%22rgb(108,%20117,%20125)%22%20xmlns=%22http://www.w3.org/2000/svg%22%20class=%22link-icon--right%22%3E%3Cpath%20fill-rule=%22evenodd%22%20clip-rule=%22evenodd%22%20d=%22M7.50588%203.40623C7.40825%203.3086%207.24996%203.3086%207.15232%203.40623L4.41244%206.14612L1.67255%203.40623C1.57491%203.3086%201.41662%203.3086%201.31899%203.40623C1.22136%203.50386%201.22136%203.66215%201.31899%203.75978L4.11781%206.5586C4.28053%206.72132%204.54434%206.72132%204.70706%206.5586L7.50588%203.75978C7.60351%203.66215%207.60351%203.50386%207.50588%203.40623Z%22%20fill=%22rgb(108,%20117,%20125)%22%3E%3C/path%3E%3Cpath%20d=%22M7.15232%203.40623L7.50588%203.75978L7.50588%203.75978L7.15232%203.40623ZM7.50588%203.40623L7.15232%203.75978L7.15233%203.75978L7.50588%203.40623ZM4.41244%206.14612L4.05888%206.49967C4.15265%206.59344%204.27983%206.64612%204.41244%206.64612C4.54504%206.64612%204.67222%206.59344%204.76599%206.49967L4.41244%206.14612ZM1.67255%203.40623L2.0261%203.05268L2.0261%203.05268L1.67255%203.40623ZM1.31899%203.40623L0.965439%203.05268L0.965439%203.05268L1.31899%203.40623ZM1.31899%203.75978L1.67255%203.40623V3.40623L1.31899%203.75978ZM4.11781%206.5586L3.76425%206.91215L4.11781%206.5586ZM4.70706%206.5586L4.35351%206.20505L4.70706%206.5586ZM7.50588%203.75978L7.15233%203.40623L7.15232%203.40623L7.50588%203.75978ZM7.50588%203.75978C7.40825%203.85742%207.24996%203.85742%207.15232%203.75978L7.85943%203.05268C7.56654%202.75978%207.09166%202.75978%206.79877%203.05268L7.50588%203.75978ZM4.76599%206.49967L7.50588%203.75978L6.79877%203.05268L4.05888%205.79257L4.76599%206.49967ZM1.31899%203.75978L4.05888%206.49967L4.76599%205.79257L2.0261%203.05268L1.31899%203.75978ZM1.67254%203.75979C1.57491%203.85742%201.41662%203.85742%201.31899%203.75979L2.0261%203.05268C1.73321%202.75978%201.25833%202.75978%200.965439%203.05268L1.67254%203.75979ZM1.67255%203.40623C1.77018%203.50386%201.77018%203.66215%201.67255%203.75978L0.965439%203.05268C0.672546%203.34557%200.672546%203.82044%200.965439%204.11334L1.67255%203.40623ZM4.47136%206.20505L1.67255%203.40623L0.965439%204.11334L3.76425%206.91215L4.47136%206.20505ZM4.35351%206.20505C4.38605%206.1725%204.43882%206.1725%204.47136%206.20505L3.76425%206.91215C4.12223%207.27013%204.70264%207.27013%205.06062%206.91215L4.35351%206.20505ZM7.15232%203.40623L4.35351%206.20505L5.06062%206.91215L7.85943%204.11334L7.15232%203.40623ZM7.15233%203.75978C7.05469%203.66215%207.05469%203.50386%207.15233%203.40623L7.85943%204.11334C8.15233%203.82045%208.15233%203.34557%207.85943%203.05268L7.15233%203.75978Z%22%20fill=%22rgb(108,%20117,%20125)%22%3E%3C/path%3E%3C/svg%3E")
			float: right
			width: auto !important
			height: auto !important
			background: none !important
			opacity: 1 !important
	
	.dropdown>.center
		transition: all Usernav-hover-ani !important
		border-radius: Card-float-radius !important if Custom-Card
		background: Card-bg-color-float !important
		&:hover
			background: Usernav-hover-bg-color !important

	// 一级 Card 样式修改
	{Card_L1}
		border-radius: Card-L1-radius !important if Custom-Card
		transition: box-shadow Card-L1-hover-transition \, all Card-hover-bg-color-L1-ani !important
		background: Card-bg-color-L1 !important
		box-shadow: Card-L1-shadow !important
		&:hover
			box-shadow: Card-L1-hover-shadow !important
			transition: box-shadow Card-L1-hover-transition \, all Card-hover-bg-color-L1-ani !important
			background: Card-hover-bg-color-L1 !important if Card-hover-bg-color-L1!=None
			
	div.float-bottom,div.float.operations
		&,&:hover
			border-radius: 0 !important
			&::before
				border-radius: 0 !important
		transition: box-shadow Card-L1-hover-transition !important

		@keyframes Float-bar-anim
			from
				opacity: 0
			to
				opacity: 1
		animation: Float-bar-ani Float-bar-anim !important

	// 二级 Card 样式修改
	{Card_L2}
		border-radius: Card-L2-radius !important if Custom-Card
		transition: all Card-hover-bg-color-L2-ani !important
		background: Card-bg-color-L2 !important
		border-color: L2-Card-border !important
		&:hover
			box-shadow: Card-L2-hover-shadow !important
			background: Card-hover-bg-color-L2 !important if Card-hover-bg-color-L2!=None
	
	// 悬浮 Card 样式修改
	{Card_float}
		border: none !important
		border-radius: Card-float-radius !important if Custom-Card
		background: Card-bg-color-float !important
	
	{Hover_card_float}
		//border-radius: Card-float-radius if Custom-Card // TODO：分离
		anti_hover_line() if A-hover-line && Anti-Float-hover-line
		transition: all Float-card-hover-ani !important
		&:hover //,&:focus
			transition: all Float-card-hover-ani !important
			background: Card-hover-color-float !important
	
	{Shadow_card_float}
		box-shadow: Float-Card-shadow !important

	// 文字标题样式修改
	{Title}
		color: Post-heading-color !important
	
	// 正文文字样式修改
	{Text} // TODO：选择器实现不是特别优美
		color: Text-color !important
		word-wrap: break-word if Text-break-word
	
	// 超链接样式修改
	a,.color-default[data-v-0640126c], .color-default-noline[data-v-0640126c]
		color: A-color
		transition: color A-hover-ani !important
		&:hover
			color: A-hover-color
		use_hover_line(A-hover-line-ani,A-hover-line-color,A-hover-line-height) if A-hover-line

	{A}
		color: A-color !important
		transition: color A-hover-ani !important
		&:hover
			color: A-hover-color !important
		use_hover_line(A-hover-line-ani,A-hover-line-color,A-hover-line-height) if A-hover-line
	
	if Anti-pict-hover-line && A-hover-line
		a:has(>img)
			anti_hover_line()

	// Hover 超链接样式修改
	{Hover-A}
		transition: color A-hover-ani !important
		&:hover
			color: A-hover-color !important

	// 分割线样式修改
	{Divider}
		border-color: Divider-color !important
	hr
		background: Divider-color !important
		border-color: Divider-color !important

	.frac-line
		border-color: Text-color !important
	
	// 陈述样式
	{State}
		color: State-color !important
	.action > svg > path
		fill: State-color

	// 介绍样式
	{Introduce}
		color: Introduce-color !important

	// 洛谷左上目录超链接（面包屑导航）样式
	.bread-crumb *
		color: Directory-a-color !important
	.bread-crumb .link
		transition: color Directory-a-hover-ani !important
		&:hover
			color: Directory-a-hover-color !important
	
	// 洛谷大部分图标样式
	{Other_Icon}
		fill: Other-icon-color !important
	
	// 操作文字样式
	{Operate}
		color: Operate-color !important
	{Operate_hover}
		transition: color Operate-hover-ani !important
		&:hover
			color: Operate-hover-color !important
	
	.button-2line:hover>.text
		color: Operate-hover-color !important

	// 侧栏样式修改
	#app > nav.lfe-body
		background: Sidebar-bg-color !important if !Anti-HeaderFooter
		&>a
			color: Sidebar-icon-color !important if !Anti-HeaderFooter
			anti_hover_line() if A-hover-line && Anti-Sidebar-hover-line
			.icon>svg>path
				color: Sidebar-icon-color !important if !Anti-HeaderFooter
		
		.popup-button
			color: Sidebar-btn-color !important if !Anti-HeaderFooter
			.icon>svg>path
				color: Sidebar-btn-color !important if !Anti-HeaderFooter
		
		&>div:nth-child(1)
			background: Sidebar-luogu-bg-color !important if !Anti-HeaderFooter
			&>a>img
				use_img_bg_color(Sidebar-luogu-icon-color)

	// 标签样式修改
	{ColorfulLabel} // 彩色标签
		color: ColorfulLabel-text-color !important
		border-radius: Label-border-radius !important
	{GrayLabel} // 灰度标签
		& , &>span
			color: GrayLabel-text-color !important
		border-color: GrayLabel-border-color !important
		border-radius: Label-border-radius !important
		background: GrayLabel-bg-color !important
	
	// Badge 样式修改
	{Badge}
		anti_hover_line() if A-hover-line
		color: Badge-text-color !important
		border-radius: Badge-border-radius !important
	
	// 新前端应用样式
	.user-name span.lfe-caption,a[href*='https://help.luogu.com.cn/manual/luogu/account/user-tag'] span // 用户 tag
		transition: all Usertag-color-ani !important
		&[style*=": rgb(191\, 191\, 191);"]
			background: Usertag-color-1 !important
			border-color: Usertag-color-1 !important
			&:hover
				background: Usertag-hover-color-1 !important
				border-color: Usertag-hover-color-1 !important
		&[style*=": rgb(52\, 152\, 219);"]
			background: Usertag-color-2 !important
			border-color: Usertag-color-2 !important
			&:hover
				background: Usertag-hover-color-2 !important
				border-color: Usertag-hover-color-2 !important
		&[style*=": rgb(82\, 196\, 26);"]
			background: Usertag-color-3 !important
			border-color: Usertag-color-3 !important
			&:hover
				background: Usertag-hover-color-3 !important
				border-color: Usertag-hover-color-3 !important
		&[style*=": rgb(243\, 156\, 17);"]
			background: Usertag-color-4 !important
			border-color: Usertag-color-4 !important
			&:hover
				background: Usertag-hover-color-4 !important
				border-color: Usertag-hover-color-4 !important
		&[style*=": rgb(254\, 76\, 97);"]
			background: Usertag-color-5 !important
			border-color: Usertag-color-5 !important
			&:hover
				background: Usertag-hover-color-5 !important
				border-color: Usertag-hover-color-5 !important
		&[style*=": rgb(157\, 61\, 207);"],&[style*=": rgb(156\, 61\, 207);"]
			background: Usertag-color-6 !important
			border-color: Usertag-color-6 !important
			&:hover
				background: Usertag-hover-color-6 !important
				border-color: Usertag-hover-color-6 !important
		&[style*=": rgb(173\, 139\, 0);"]
			background: Usertag-color-7 !important
			border-color: Usertag-color-7 !important
			&:hover
				background: Usertag-hover-color-7 !important
				border-color: Usertag-hover-color-7 !important
	
	.svg-inline--fa.fa-badge-check // 用户勾子样式
		& path.fa-secondary,& path.fa-primary
			transition: fill Usersvg-hover-ani !important

		&[style*="#52c41a"] path.fa-secondary,&[style*="--lfe-color--green-3"] path.fa-secondary
			fill: Usersvg-color-1 !important
		&[style*="#3498db"] path.fa-secondary,&[style*="--lfe-color--blue-3"] path.fa-secondary
			fill: Usersvg-color-2 !important
		&[style*="#ffc116"] path.fa-secondary,&[style*="--lfe-color--gold-3"] path.fa-secondary
			fill: Usersvg-color-3 !important
		
		& path.fa-primary
			fill: Usersvg-mid-color !important

		&:hover
			&[style*="#52c41a"] path.fa-secondary,&[style*="--lfe-color--green-3"] path.fa-secondary
				fill: Usersvg-hover-color-1 !important
			&[style*="#3498db"] path.fa-secondary,&[style*="--lfe-color--blue-3"] path.fa-secondary
				fill: Usersvg-hover-color-2 !important
			&[style*="#ffc116"] path.fa-secondary,&[style*="--lfe-color--gold-3"] path.fa-secondary
				fill: Usersvg-hover-color-3 !important

			& path.fa-primary
				fill: Usersvg-mid-hover-color !important
	
	if A-hover-line // 禁用勾子 hover line
		a[href*='https://help.luogu.com.cn/manual/luogu/account/user-tag']
			anti_hover_line()

	// 主标题颜色
	div.header-layout h1
		color: Main-post-heading-color !important
	
	// 讨论区评论
	{Discuss}
		border-radius: Card-L1-radius !important
		background: Discuss-bd-color !important
		box-shadow: Discuss-shadow !important
		transition: Discuss-hover-shadow-ani !important
		&:hover
			box-shadow: Discuss-hover-shadow !important
			background: Discuss-bd-hover-color !important
			& > :nth-child(1)
				background: Discuss-hd-hover-color !important
		& > :nth-child(1)
			//content-visibility: auto if Content-Visibility
			border-radius: Card-L1-radius Card-L1-radius 0 0 !important
			background: Discuss-hd-color !important

	// Markdown 编辑器
	.CodeMirror-gutters,.cm-gutters
		background: Markdown-gutter-color !important
		color: Markdown-linenumber-color !important
	.CodeMirror-linenumber
		color: Markdown-linenumber-color !important
	.ͼ2 .cm-activeLineGutter
		background: Markdown-gutter-active-color !important
	.ͼ2 .cm-activeLine
		background: Markdown-line-active-color !important

	.mp-editor-toolbar,.CodeMirror-scroll,.mp-preview-area,.cs-header,.cs-contentm,.cs-main,.cs-footer,.mp-editor-zone
		background: Markdown-bg-color !important
	.CodeMirror-sizer
		border-color: transparent !important

	.cm-activeLine::selection,.cm-activeLine ::selection,.CodeMirror-line::selection, .CodeMirror-line>span::selection, .CodeMirror-line>span>span::selection
		background: Markdown-text-selection-color !important
	.cm-selectionBackground,.CodeMirror-selected
		background: Markdown-text-selection-color !important

	.CodeMirror-scroll,.cm-scroller
		font-family: Markdown-fontstack, monospace !important
	.cm-scroller
		font-size: 16px !important
	.CodeMirror-scroll
		border-radius: 0 !important
	.CodeMirror-code pre.CodeMirror-line
		background: none !important
	.CodeMirror-cursor,.cm-layer.cm-layer-above.cm-cursorLayer>.cm-cursor.cm-cursor-primary
		border-color: Input-text-color !important
	.mp-editor-menu>li>a,.cs-header > .cs-toolbar .cs-toolbar-tool-button
		&:not(:hover),&:not(:hover) *
			border-color: Markdown-bg-color !important

		&  svg > path
			fill: Other-icon-color !important
		& i
			color: Other-icon-color !important
		&:hover
			& i
				color: Markdown-button-hover-text-color !important
			& svg path
				fill: Markdown-button-hover-text-color !important
	.mp-editor-menu>li>a
		border: Markdown-button-hover-border !important
		anti_hover_line() if A-hover-line && Anti-Markdown-hover-line
		&:hover
			background: Markdown-button-hover-bg-color !important
		
	// 题目限制文字
	.stat > .stat.color-inverse span
		color: Topic-text-color !important
	.stat > .stat.color-inverse div
		border-color: Topic-text-color !important

	// 去除用户栏边框
	.user-nav .center
		border: none
	
	// 题目类型标签修改
	{Topic-type-Label}
		anti_hover_line() if A-hover-line
		&[style*="rgb(232\, 232\, 232)"]:not(.selected)
			background: Topic-type-Label-not-select !important
		&[style*="--tag-color: #2949b4"],&[style*="rgb(41\, 73\, 180)"]
			background: Topic-type-Label-algorithm !important
		&[style*="--tag-color: #13c2c2"],&[style*="rgb(19\, 194\, 194)"]
			background: Topic-type-Label-source !important
		&[style*="--tag-color: #3498db"],&[style*="rgb(52\, 152\, 219)"]
			background: Topic-type-Label-time !important
		&[style*="--tag-color: #52c41a"],&[style*="rgb(82\, 196\, 26)"]
			background: Topic-type-Label-area !important
		&[style*="--tag-color: #f39c11"],&[style*="rgb(243\, 156\, 17)"]
			background: Topic-type-Label-special !important
	
	// 题目难度标签修改
	{Topic-difficulty-Label}
		&[style*="rgb(191\, 191\, 191);"]
			background: Topic-difficulty-Label-1 !important
		&[style*="rgb(254\, 76\, 97);"]
			background: Topic-difficulty-Label-2 !important
		&[style*="rgb(243\, 156\, 17);"]
			background: Topic-difficulty-Label-3 !important
		&[style*="rgb(255\, 193\, 22);"]
			background: Topic-difficulty-Label-4 !important
		&[style*="rgb(82\, 196\, 26);"]
			background: Topic-difficulty-Label-5 !important
		&[style*="rgb(52\, 152\, 219);"]
			background: Topic-difficulty-Label-6 !important
		&[style*="rgb(157\, 61\, 207);"]
			background: Topic-difficulty-Label-7 !important
		&[style*="rgb(14\, 29\, 105);"]
			background: Topic-difficulty-Label-8 !important
	
	// 题目难度文字修改
	.info-rows a[href*="/problem/list"]>span
		&[style*="rgb(191\, 191\, 191);"]
			color: Difficulty-text-color-1 !important
		&[style*="rgb(254\, 76\, 97);"]
			color: Difficulty-text-color-2 !important
		&[style*="rgb(243\, 156\, 17);"]
			color: Difficulty-text-color-3 !important
		&[style*="rgb(255\, 193\, 22);"]
			color: Difficulty-text-color-4 !important
		&[style*="rgb(82\, 196\, 26);"]
			color: Difficulty-text-color-5 !important
		&[style*="rgb(52\, 152\, 219);"]
			color: Difficulty-text-color-6 !important
		&[style*="rgb(157\, 61\, 207);"]
			color: Difficulty-text-color-7 !important
		&[style*="rgb(14\, 29\, 105);"]
			color: Difficulty-text-color-8 !important
	
	if A-hover-line
		.difficulty a
			anti_hover_line() 

	// 行内代码块
	{InLine-code-block}
		border-radius: InLine-code-block-radius !important
		background: InLine-code-block-bg-color !important
		border: InLine-code-block-border !important
		border-color: InLine-code-block-border-color !important
		color: Code-block-text-color !important

		&::selection, & *::selection
			background: Codeblock-text-selection-color !important

		if Better-font
			font-family: "FontWithASyntaxHighlighter",Code-block-fontstack !important
			font-palette: --Alternate;
		else
			font-family: Code-block-fontstack !important
	
	// 代码块
	{Code-block}
		border-radius: Code-block-radius !important
		background: Code-block-bg-color !important
		border: Code-block-border !important
		border-color: Code-block-border-color !important
		color: Code-block-text-color !important

		if exlg-compatible
			&[exlg-copy-code-block]
				border-top-left-radius: 0 !important
				border-top-right-radius: 0 !important
		
		&::selection, & *::selection
			background: Codeblock-text-selection-color !important

		& code
			background: Code-block-bg-color !important
			color: Code-block-text-color !important
			border: none !important

			if Better-font
				font-family: "FontWithASyntaxHighlighter",Code-block-fontstack !important
				font-palette: --Alternate;
			else
				font-family: Code-block-fontstack !important

			span:not(.hljs-class)
				font-family: Code-block-fontstack !important
			
			.hljs-comment,.hljs-quote // 注释
				color: Code-block-quote-color !important
			
			.hljs-meta,.hljs-meta .hljs-keyword // meta
				color: Code-block-meta-color !important
			
			.hljs-meta .hljs-meta-string // meta-string
				color: Code-block-meta-string-color !important
			
			.hljs-string // string
				color: Code-block-string-color !important

			.hljs-keyword,.hljs-type // 关键字
				color: Code-block-keyword-color !important
			
			.hljs-built_in, .hljs-function > .hljs-title // 函数名
				color: Code-block-title-color !important
			
			.hljs-number // 数字
				color: Code-block-number-color !important
			
			.hljs-function > .hljs-params // 函数后括号
				color: Code-block-params-color !important

	// 私信框
	.message-block .message
		border-radius: Privateletter-radius !important
		background: Privateletter-bg-color !important
		&:after
			display: none if Privateletter-hide
	
	.message-block.right .message
		background: Privateletter-right-bg-color !important
		color: Privateletter-right-text-color !important

	.message-block.left .message:after
		border-right-color: Privateletter-bg-color !important

	.message-block.right .message:after
		border-left-color: Privateletter-right-bg-color !important
	
	.card.wrapper.padding-none > .side > .panel-content > .list > .item
		transition: background Privateitem-hover-ani \, border-radius Privateitem-hover-ani !important
		&:hover
			border-radius: Privateletter-list-radius !important
			background: Privateitem-hover-bg-color !important
			& .lfe-caption
				color: Privateitem-hover-text-color !important
		& .lfe-caption
			transition: color Privateitem-hover-ani !important

	// 更好的评测详情色块
	if Better-test-case
		.test-case-wrap 
			margin-top: Test-case-margin-top

			line-height: 0
			& *
				line-height: 1.5

			// 整块色块大小，间隔
			> .wrapper
				margin-right: Test-case-margin-right 
				margin-bottom: Test-case-margin-bottom

				.test-case //颜色标准化 [更新预定]
					width: Test-case-size
					height: Test-case-size
					transition: all Test-case-ani !important
					box-shadow: Test-case-shadow
					border-radius: Test-case-border-radius
					margin: 0

					&:hover
						transform: translateY(- Test-case-translate)
						box-shadow: Test-case-hover-shadow

						.info
							white-space: normal

					.info // 评测信息 TODO：变量化
						width: calc(100% - 10px)
						line-height: 15px
						font-size: 10px
						white-space: nowrap
						overflow: hidden
						text-overflow: ellipsis
					.id // 左上方编号 TODO：变量化
						margin-left: 3px
					.status // 评测状态
						line-height: 1.8
						font-weight: bold
						font-size: 22px
						margin-bottom: -3px

				.message
					transition: all Test-case-message-ani !important
					display: block !important
					border-radius: 5px !important
					box-shadow: Test-case-message-shadow // TODO：变量化
					min-width: 10em
					padding: 0
					margin: 0
					margin-top: 45px
					opacity: 0
					pointer-events: none
					color: Test-case-message-color !important
					background: Test-case-background !important

				&:hover .message
					border-radius: 30px
					margin-top: -25px
					min-width: 12em
					min-height: 1em
					width: unset
					height: unset
					padding: 5px 18px
					opacity: 1 !important

				// 对通过颜色进行一个修改
				.test-case[style*='rgb(82']
					background: Test-case-color-AC !important
				.test-case[style*='rgb(231']
					background: Test-case-color-WA !important
				.test-case[style*='rgb(157']
					background: Test-case-color-RE !important
				.test-case[style*='rgb(5']
					background: Test-case-color-TLE !important
				.test-case[style*='rgb(14']
					background: Test-case-color-UKE !important
				.test-case[style*="rgb(20"]
					background: Test-case-color-QUE !important
				if Hide-testcase-load
					.test-case:not([style*="rgb"])
						display: none !important

				.test-case *
					color: Test-case-text-color !important

				// 不知道干嘛的，先注释起来
				//.test-case[style*='rgb(20']
				//	background #3498db !important 

		if Better-test-case-2
			MLE-size = (Test-case-size - 45.5px) / 2
			OLE-size = (Test-case-size - 42.263px) / 2

			.test-case[style*='rgb(5'] .status
				if Test-case-color-OLE == "MLE"
					margin: 0 OLE-size+0.5px
				else
					margin: 0 MLE-size+0.5px

			.test-case-wrap .content
				overflow: hidden
				animation: test-case-check 1s
				animation-timeline: scroll(x self)

			@keyframes test-case-check
				from,to
					border-radius: Test-case-border-radius
					background: Test-case-color-MLE

	// 页首修改
	.main-container > .wrapper.wrapped.lfe-body:not(.tiny):first-child > .background,.main-container > header.theme-bg
		background: Header-bg-color !important if !Anti-HeaderFooter
	
	// 页尾修改
	.main-container > .wrapper.wrapped.lfe-body:has(>.footer),.main-container > footer.theme-bg
		background: Footer-bg-color !important if !Anti-HeaderFooter
		& .background
			background: none !important
		& .info,& .links
			&>p,& a
				color: Footer-text-color !important
				transition: color Operate-hover-ani !important
			& a:hover
				color: Footer-text-hover-color !important
		& .slogan
			color: Footer-bigtext-color !important
		& .logo,& .logo-img
			use_img_bg_color(Footer-img-color)

	// Swal 弹窗样式
	.swal2-popup:not([style*="background: transparent;"])
		background: Card-bg-color-float !important
	.swal2-popup.swal2-toast
		box-shadow: Swal-shadow !important

	// 加载圈
	.spinner.dark
		color: Spinner-dark-color !important
		margin-top: 5px !important
		box-shadow: 0 !important

	// 侧栏
	@keyframes fade 
		from
			opacity:0;
		to 
			opacity:1;

	#app > nav.lfe-body .popup // 应用框
		//box-shadow: 0 0.5rem 2rem 0 rgba(0, 0, 0, .2);
		padding: Sidebar-popup-padding !important
		animation: Sidebar-popup-ani !important

	if Better-Sidebar
		#app > .lfe-body > .popup-button
			margin-top: 8px
		
		#app > .lfe-body > a:first-of-type
			margin-top: 10px
		
		#app > .lfe-body > a
			height: 3.7em
			margin-top: 3px
			padding: 0 !important
		
		#app > .lfe-body > a > .icon
			line-height: 2.4em
			font-size: 18px
			width: 100%
			margin: 0 !important
			transition: all 0.3s ease
	
		#app > .lfe-body > a > .text
			opacity:0
			margin-top: -1em
			display: block
			transition: all 0.3s ease
	
		#app > .lfe-body > a:hover > .icon
			line-height: 1.5em
			font-size: 17px
	
		#app > .lfe-body > a:hover > .text
			opacity:1
			margin-top: 0.2em

	// 个人主页简介设置
	.user-info > .lfe-caption:not(.slogan)
		color: Userpage-text-color !important

	// 更好的题库通过条
	if Better-Progressframe
		.progress-frame
			border-radius: .5rem
			box-shadow: inset 0 1px 2px rgba(0, 0, 0, .1)
			border: none !important
	
	.progress-frame
		background: Progressframe-bg-color !important

	.progress-frame div[style*="background-color: rgb(52\, 152\, 219);"]
		background: Progressframe-color !important
	
	if Better-problem-toolip
		@import url('https://fonts.googleapis.com/css2?family=Open+Sans')
		.lfe-tooltip-theme > .tooltip-inner
			font-family: 'Open Sans' !important
			font-style: normal
			font-weight: 350
		.tooltip-arrow
			top: 26.5px;

	// 系统维护修复
	if Better-userpage
		.card.padding-default > div[style*="background-color: rgb(255\, 235\, 236);"]
			display: none !important
		.introduction.marked[style*="display: none;"]
			display: block !important

	.main-container.lside-bar > main
		background: none !important

	// 优化巨型按钮渲染
	if Better-big-button
		.drop > br
			display: none
		.problem-card .drop > div
			margin-bottom: 10px !important

	.drop,.image-block
		background: Big-button-bg-color !important
		border: Big-button-border !important
		&:hover
			border: Big-button-border-hover !important

	// 个人信息条修改
	.dropdown
		&:has(>.card>.user-info),&:has(>.l-card>.user-info)
			background: transparent !important

	// 翻页按钮修改
	.page-bar button,.page-area button,.card.padding-default:has(>.member-list)>div[style*="display: flex; align-items: center;"] button
		background: Small-button-bg-color !important
		border: Small-button-border !important
		color: Text-color !important
		& img
			use_img_bg_color(Text-color) // TODO：目前实现其实渲染出来不是 Text-color，但是效果不错
		&:hover
			border: Small-button-border-hover !important
		&.selected
			background: Small-button-select-bg-color !important
			border-color: Small-button-select-bg-color !important
			color: Small-button-text-select-color !important

	// 连续输入框右侧 border
	.input-group>:not(:last-child)
		&,& input
			border-top-right-radius: 0 !important
			border-bottom-right-radius: 0 !important
			&,&.focused
				box-shadow: none !important
	
	.input-group>:not(:first-child)
		&,& input
			border-top-left-radius: 0 !important
			border-bottom-left-radius: 0 !important

	.dropdown.shown:has(.dropdown-operations)
		background: none !important

	// 按钮系统
	{Button}
		border-radius: Button-radius !important
		use_button_style(Button-padding-width,Button-padding-height)
		&:is(a),&>a
			anti_hover_line() if A-hover-line
	{Small-Button}
		border-radius: Small-button-radius !important
		transition: box-shadow Button-shadow-ani !important
		box-shadow: Small-button-shadow !important
		use_button_style(Small-button-padding-width,Small-button-padding-height)
		&:is(a),&>a
			anti_hover_line() if A-hover-line
	if A-hover-line
		a:has(>button)
			anti_hover_line()

	.expand > .expand
		border-radius: Expand-radius !important
		background: Expand-shadow !important

	.card.max[style*="background-image: url('gg1.svg')"]
		background-image: url('gg1.svg') !important
		background-repeat no-repeat !important
		background-size cover !important
		background-position center !important

	*::selection
		background: Text-selection-color
	*::-moz-selection
		background: Text-selection-color
	*::-webkit-selection
		background: Text-selection-color

	// exlg 兼容
	if exlg-compatible
		.exlg-code-title.exlg-beautified-cbex
			background: Exlg-Codeheader-bg-color !important
			color: Post-heading-color !important
	
	if Hide-AD
		.side div:not([class*="card"]):has(>a[target*="_blank"]>img)
			display: none !important

	// 全局字体
	body,.lfe-body,.cs-editor
		font-family: Font-Stack, -apple-system, BlinkMacSystemFont, "San Francisco", "Helvetica Neue", "Noto Sans", "Noto Sans CJK SC", "Noto Sans CJK", "Source Han Sans", "PingFang SC", "Segoe UI", "Microsoft YaHei", sans-serif !important

	// 提交代码框颜色系统
	.ace_editor
		background: UpdEditer-bg-color !important
		color: UpdEditer-text-color !important

		& .ace_gutter
			background: UpdEditer-gutter-color !important
			color: UpdEditer-linenumber-color !important
		& .ace_gutter-active-line
			background: UpdEditer-gutter-active-color !important
		& .ace_active-line
			background: UpdEditer-line-active-color !important
		
		// 颜色系统
		.ace_keyword
			color: UpdEditer-keyword-color !important
		.ace_identifier,.ace_other
			color: UpdEditer-text-color !important
		.ace_comment
			color: UpdEditer-quote-color !important
		.ace_string
			color: UpdEditer-string-color !important
		.ace_numeric
			color: UpdEditer-number-color !important
		.ace_operator,.ace_keyword.ace_operator
			color: UpdEditer-operator-color !important
		.ace_punctuation
			color: UpdEditer-punctuation-color !important
		.ace_paren
			color: UpdEditer-paren-color !important
		.ace_storage
			color: UpdEditer-type-color !important
		.ace_function
			color: UpdEditer-func-color !important
		
		.ace_indent-guide // TODO：把这个 base64 解析出来
			background: none !important

	.block-item.select-button.lfe-form-sz-middle:hover
		background: Select-button-hover-bg-color !important

	// 更好的题目 tag 渲染
	if Better-problem-tag
		{Topic-difficulty-Label} \, .tag.color-none>span.lfe-caption
			&[style*="color"]
				border-radius: Problem-tag-radius !important
				padding: Problem-tag-padding
				transition: all Problem-tag-ani \, background 0s // 虽然是 bug，但是呈现效果意外还行，回头研究下
				line-height: 1.5
				&:hover
					transform: translateY(- Problem-tag-hover-trans);
					box-shadow: Problem-tag-hover-shadow;

	// 更好的洛谷 Markdown 按钮样式
	if Better-Markdown-button
		.mp-dialog-button[type*="button"],.cs-dialog-submit-area>:first-child
			blue_button_patch(Button-padding-width,Button-padding-height)
			line-height: 1.5 !important // 统一新老前端标准
			transition: background Button-hover-ani \, border-color Button-hover-ani !important
		.mp-dialog-button[type*="submit"],.cs-dialog-submit-area>:last-child
			red_button_patch(Button-padding-width,Button-padding-height)
			line-height: 1.5 !important // 统一新老前端标准
			transition: background Button-hover-ani \, border-color Button-hover-ani !important

	{Username} // 洛谷用户 id
		transition: color Username-color-ani !important
		&[style*="color: rgb(191\, 191\, 191);"],&[style*="color: var(--lfe-color--grey-3);"]
			color: Username-color-1 !important
			&:hover
				color: Username-hover-color-1 !important
		&[style*="color: rgb(52\, 152\, 219);"],&[style*="color: var(--lfe-color--blue-3);"]
			color: Username-color-2 !important
			&:hover
				color: Username-hover-color-2 !important
		&[style*="color: rgb(82\, 196\, 26);"],&[style*="color: var(--lfe-color--green-3);"]
			color: Username-color-3 !important
			&:hover
				color: Username-hover-color-3 !important
		&[style*="color: rgb(243\, 156\, 17);"],&[style*="color: var(--lfe-color--orange-3);"]
			color: Username-color-4 !important
			&:hover
				color: Username-hover-color-4 !important
		&[style*="color: rgb(254\, 76\, 97);"],&[style*="color: var(--lfe-color--pink-3);"]
			color: Username-color-5 !important
			&:hover
				color: Username-hover-color-5 !important
		&[style*="color: rgb(157\, 61\, 207);"],&[style*="color: var(--lfe-color--purple-3);"]
			color: Username-color-6 !important
			&:hover
				color: Username-hover-color-6 !important
		&[style*="color: rgb(173\, 139\, 0);"],&[style*="color: var(--lfe-color--yellow-4);"]
			color: Username-color-7 !important
			&:hover
				color: Username-hover-color-7 !important
	a.color-none[href*='/user/'][target='_blank'],a.name[href*='/user/'][style*='font-weight: bold;']
		anti_hover_line() if A-hover-line && Anti-Username-hover-line

	// Header 出现动画
	if Better-Header-ani
		@keyframes Header-anim
			from
				padding-bottom: Header-ani-padding
			to 
				padding-bottom: 0px
		
		//transform: translate3d(0px, 0px, 0px) if Use-GPU
		if More-Header-Ani
			.main-container > .wrapper.wrapped.lfe-body:has(>.header:not([pageloading*="true"])),.main-container > header.theme-bg
				animation: Header-anim Header-ani
		else
			.main-container > .wrapper.wrapped.lfe-body,.main-container > header.theme-bg
				animation: Header-anim Header-ani

	if Better-Header-text-ani
		@keyframes ShowTop
			from
				opacity: 0
				margin-left: - Header-text-ani-padding
			to 
				opacity: 1
				margin-left: 0px
		if More-Header-Ani
			.main-container > .wrapper.wrapped.lfe-body:has(>.header:not([pageloading*="true"])),.main-container > header.theme-bg
				& .lfe-h1
					animation: ShowTop Header-text-ani
					@media (min-width: 577px) 
						float: left if Better-Usernav-box
		else 
			.main-container > .wrapper.wrapped.lfe-body,.main-container > header.theme-bg
				& .lfe-h1
					animation: ShowTop Header-text-ani
					@media (min-width: 577px) 
						float: left if Better-Usernav-box
		
		if Better-Usernav-box
			@media (min-width: 577px) 
				.main-container > .wrapper.wrapped.lfe-body:has(.user-nav > nav) .lfe-h1
					max-width: calc(100% - 174px)
				
				if exlg-compatible || oiso-compatible
					.main-container > .wrapper.wrapped.lfe-body:has(.user-nav > nav > #exlg-dash-wrapper,.user-nav > nav > a:first-child) .lfe-h1
						max-width: calc(100% - 255px)
				if exlg-compatible && oiso-compatible
					.main-container > .wrapper.wrapped.lfe-body:has(.user-nav > nav > #exlg-dash-wrapper+a,.user-nav > nav > a:first-child+#exlg-dash-wrapper) .lfe-h1
						max-width: calc(100% - 336px) !important
						

	// 题库条设置
	.card > section .block > .block-item.category
		&>.luogu>li
			color: Problem-select-bar-hbg-text-color !important
			background: Problem-select-bar-bg-color !important
			&:hover
				color: Problem-select-bar-hbg-text-hover-color !important
		&>.remote>li,&>.all>li
			color: Problem-select-bar-text-color !important
			&:hover
				color: Problem-select-bar-text-hover-color !important
		& li
			transition: color Problem-select-bar-text-hover-ani,background Problem-select-bar-bg-hover-ani !important
			background: transparent !important
		if !Better-problem-bar
			&>ul>li.selected
				color: Problem-select-bar-active-text-color !important
				background: Problem-select-bar-active-bg-color !important
				&:hover
					color: Problem-select-bar-active-text-color !important
		else
			&:not(:hover)
				&>ul>li.selected
					color: Problem-select-bar-active-text-color !important
					background: Problem-select-bar-active-bg-color !important
					&:hover
						color: Problem-select-bar-active-text-color !important
			& li:hover
				color: Problem-select-bar-active-text-color !important
				background: Problem-select-bar-active-bg-color !important
				&:hover
					color: Problem-select-bar-active-text-color !important

	// 卡片选择条

	.menu > .items .entry
		&,&::before
			transition: all Card-select-bar-hover-ani !important
		&.selected
			color: Card-select-bar-select-color !important
			&::before
				background: Card-select-bar-select-color !important
		if Better-Card-select-bar
			@keyframes Card-select-bar-ani
				from
					margin: 0 .5em
					width: calc(100% - 1em)
				to
					margin: 0
					width: 100%
			&:not(.selected):hover::before
				animation: Card-select-bar-ani Card-select-bar-out-ani !important

	if Better-InputGroup // 更统一的 InputGroup 样式
		.input-group>:not(:last-child) input
			height: 25px !important
			padding: 1.75px 14px 1.75px 14px !important
		.input-group>button:last-child
			height: 30px !important
			padding: 4px 18px !important

	if Smart-SideBar // Smart-Luogu 式侧栏
		// 顶栏适配
		.wrapper.wrapped.lfe-body.header-layout.tiny,.wrapper.wrapped.lfe-body.header-layout.tiny,.main-container > .wrapper.wrapped.lfe-body:not(.tiny):first-child,.main-container > .wrapper.wrapped.lfe-body:has(>.footer)
			position: relative !important
			right: 60px !important
			padding-left: 75.2px !important
			padding-right: 16px !important
			width: calc(100% - 31.2px) !important
			&>.container,
				padding-left: 120px !important
			&>.background
				padding-left: 120px !important
		
		@keyframes Sidebar-out
			from
				left: -50px
			to
				left: 0px
		
		//More-Sidebar-Ani
		#app > .lfe-body
			animation: Sidebar-out SideBar-ani if !More-Sidebar-Ani
			//backdrop-filter: blur(20px) !important
			//-webkit-backdrop-filter: blur(20px) !important
			border-radius: 0px 30px 30px 0px
			background: Sidebar-bg-color !important if !Anti-HeaderFooter
			margin-left: 0px
			top: SideBar-position
			transform: translateY(- SideBar-position)
			padding-bottom: 14px
			height: 30em
		
		if More-Sidebar-Ani
			#app:has(>.main-container>.wrapper>.header:not([pageloading*="true"])) > .lfe-body,#app:not(:has(>.main-container>.wrapper>.header)) > .lfe-body
				animation: Sidebar-out SideBar-ani !important
	
		#app > .lfe-body > div:first-child//:has(.logo-wrap)
			border-top-right-radius: 30px
		
	
	#app > .lfe-body 
		box-shadow: SideBar-shadow !important

	.refined-input.input-wrap.frame:has(input+svg) > input
		box-shadow: none !important
	if bug-fix18
		.refined-input.input-wrap.frame:has(input+svg) > svg
			margin: auto .625em !important

	// 讨论区设置
	.full-container[currenttemplate="DiscussList"],.full-container[currenttemplate="DiscussPost"]
		@media (min-width: 769px)
			& .side
				width: Discuss-Sidebar-width !important
				box-sizing: border-box !important
				if Discuss-Sidebar-right
					float: right !important
					margin-right: 0 !important
					//margin-left: Discuss-Sidebar-margin !important
				else
					margin-right: Discuss-Sidebar-margin !important
			& .main
				width: Discuss-Main-width !important

	if Anti-forum-container-hover-line && A-hover-line
		.forum-container
			anti_hover_line()
	
	if A-hover-line
		.row.row-space-between.bottom > .row.content-left.title.link.color-default
			anti_hover_line()
			overflow: unset !important
	
	if Anti-Outbtn && A-hover-line
		.center>footer>a,.login-actions a
			anti_hover_line()
	
	if Anti-Usernav && A-hover-line
		.user-nav>a,.user-nav>nav>:not(.dropdown) a,.user-nav>nav>a
			anti_hover_line()

	if Better-Usernav-box
		@keyframes Show-Usernav-box
			0%
				opacity: 0
				margin-top: Usernav-box-ani-margin

			100%
				opacity: 1
				margin-top: Usernav-box-margin
		
		.user-nav:has(>nav)
			margin-top: Usernav-box-margin
			animation: Show-Usernav-box Usernav-box-ani if !More-Usernav-box-Ani
		
		
		if More-Usernav-box-Ani
			.main-container > .wrapper.wrapped.lfe-body>.header:not([pageloading*="true"])>.user-nav
				animation: Show-Usernav-box Usernav-box-ani
		
		.main-container > .wrapper.wrapped.lfe-body:not(.tiny):first-child,.main-container > header.theme-bg
			& .functional
				width: 100% !important
				float: left
			if bug-fix9
				& .lfe-h1
					margin-top: 0 !important
					margin-bottom: 0 !important
					line-height: calc(120% + 1em)
		
	.main-container > .wrapper.wrapped.lfe-body:not(.tiny):first-child,.main-container > header.theme-bg
		& .lfe-h1
			font-size: Main-title-size !important
		
	
	if Usernav-float
		.user-nav:has(>nav)
			position: unset !important
			float: right !important
	
	.user-nav:has(>nav)
		border-radius: Usernav-box-radius !important

	.refined-input:has(.east)>input,.article-mine-filter
		box-shadow: none !important		

	.full-container:not([currenttemplate*="Discuss"])
		@media (min-width: 769px)
			&>.side
				width: Prob-side-width !important
			&>.main:not([style*="width: 100%;"])
				width: Prob-lcard-width !important

	.top-progress > .bar
		background: Top-progress-color !important
	
	table
		th, td
			border-color: Table-color
		
		
	if Table-change
		table
			border-collapse: separate !important
			&>thead
				&>tr:first-child
					&>th:first-child
						border-top-left-radius: Table-radius
					&>th:last-child
						border-top-right-radius: Table-radius
			&>tbody
				&>tr:last-child
					&>td:first-child
						border-bottom-left-radius: Table-radius
					&>td:last-child
						border-bottom-right-radius: Table-radius
			if Table-border-change == 0
				&>thead
					&>tr:first-child
						&>th:not(:last-child)
							border-right: none !important
				&>tbody
					&>tr
						&>td:not(:last-child)
							border-right: none !important
						&>td
							border-top: none !important

		table:not(:has(>tbody>tr)) // 只有表头
			&>thead
				&>tr:first-child
					&>th:first-child
						border-bottom-left-radius: Table-radius
					&>th:last-child
						border-bottom-right-radius: Table-radius


	if Avatar-ani-select!="off"
		{Avatar}
			if Avatar-ani-select=="bigger"
				transition: transform Avatar-hover-ani !important
				&:hover
					use_bigger_ani(Avatar-hover-scale)
			else 
				@keyframes Avatar-hover
					use_slime_ani(Avatar-hover-scale)		
				&:hover
					animation: Avatar-hover Avatar-hover-ani !important

	.tags-wrap
		overflow: visible !important // 不裁剪阴影
	if Problem-tag-center
		.row > .tags > .tags-wrap.multiline
			if Better-Problem-tag-margin
				justify-content: space-evenly !important
				&>a
					margin-right: 0 !important 
			else
				justify-content: center !important
		// 标题居中
		div.full-container[currenttemplate="ProblemList"] .table .header > div:nth-child(4) > span
			display: block
			text-align: center

	if Submit-pict!="Default"
		.swal2-header > .swal2-image[src*="https://fecdn.luogu.com.cn/luogu/ac-congrats.png"]
			content: Submit-pict !important

	.left-menu-container > .menu
		if Better-UserNotification-ani
			transition: color UserNotification-ani !important
			&:hover
				color: UserNotification-active-color !important
		else
			&.active-menu
				color: UserNotification-active-color !important
	
	if Better-UserNotification-ani
		.left-menu-container:not(:has(>.menu:hover)) > .active-menu
			color: UserNotification-active-color !important
		.left-menu-container:has(>.menu:hover) > .active-menu:not(:hover)
			color: Text-color !important

	// Blockquote 样式应用
	blockquote,.casket.cs-main blockquote,.lfe-marked blockquote
		border-color: Blockquote-border-color !important

	if Canvas-fix
		canvas+.tooltip
			position: fixed !important
			@keyframes Canvas-fix-ani
				from
					transform: translateY(0)
				to
					transform: translateY(-10000px)
			animation: Canvas-fix-ani 3s linear !important
			animation-timeline: scroll(root) !important
			animation-range: 0vh 10000px !important
	
	// 旧前端顶部 header 高度
	.header-layout
		&.narrow
			height: Header-narrow-height !important
		&.normal
			height: Header-normal-height !important
	// 新前端
	.main-container > header.theme-bg:has( button)
		min-height: Header-new-normal-height !important
	.main-container > header.theme-bg:has( button)
		min-height: Header-new-narrow-height !important

	// Markdown 编辑器文字渲染修改
	.casket.cs-main .cm-content *,.CodeMirror-code pre.CodeMirror-line
		color: Markdown-text-color !important
	
	.CodeMirror-code
		& .cm-strikethrough
			color: Markdown-text-delete-color !important
		& .cm-strong
			color: Markdown-text-strong-color !important
		& .cm-em
			color: Markdown-text-italic-color !important
		& .cm-variable-2
			color: Markdown-text-variable-color !important
		& .cm-header
			color: Markdown-text-title-color !important
		& .cm-comment
			color: Markdown-text-codetag-color !important
		& .cm-image
			color: Markdown-atext-color !important
		& .cm-string.cm-url
			color: Markdown-a-color !important
	
	if Better-Markdown-Edit
		.mp-editor-ground
			.cm-meta
				color: Code-block-meta-color !important
			.cm-keyword,.cm-type
				color: Code-block-keyword-color !important
			.cm-def
				color: Code-block-title-color !important
			.cm-number
				color: Code-block-number-color !important
			.cm-string
				color: Code-block-string-color !important
			.mp-preview-content .cm-comment
				color: Code-block-quote-color !important
	
	.cm-scroller
		Markdown_Bracket = ":is(.ͼ6.ͼ5,.cm-matchingBracket>.ͼ6.ͼ5)"
		.cm-line span.ͼa
			color: Markdown-text-delete-color !important
		.cm-line span.ͼ9
			color: Markdown-text-strong-color !important
		.cm-line span.ͼ7
			color: Markdown-text-title-color !important
		.cm-line span.ͼ8
			color: Markdown-text-italic-color !important
		.cm-line span.ͼc
			color: Markdown-text-codename-color !important
		.cm-line span.ͼ6
			color: Markdown-atext-color !important
	
	// 修个神秘 bug
	#app
		overflow: hidden
	#app:has(.top-bar)
		overflow: visible
	.full-container .card
		overflow: visible !important
	
	.user-header-container > .user-header-top
		border-top-left-radius: Card-L1-radius !important
		border-top-right-radius: Card-L1-radius !important
	
	.user-header-top
		border-top-left-radius: Card-float-radius !important
		border-top-right-radius: Card-float-radius !important

	if Ease-Load
		@view-transition { navigation: auto; }
	
	if Content-Visibility
		main,.status-name // 我也不知道为什么这么笼统的选择器就能提升性能，但是再往下细分就要有 bug 了（虽说已经产生了一些微妙的渲染差异）
			content-visibility: auto
		{Avatar}
			content-visibility: auto
	
	if Use-GPU
		main
			transform: translateZ(0)

	// 各种小 bug 的修复
	.load-more
		border-bottom: 0 !important if bug-fix1

	if bug-fix2
		.shown .arrow
			transform: none !important

		.combo-wrapper .arrow
			font-family: -apple-system, BlinkMacSystemFont, "San Francisco", "Helvetica Neue", "Noto Sans", "Noto Sans CJK SC", "Noto Sans CJK", "Source Han Sans", "PingFang SC", "Segoe UI", "Microsoft YaHei", sans-serif !important

		.combo-wrapper.shown .arrow
			transform: scaleY(-1) !important
			& *
				transition-duration: .4s !important
	.arrow
		z-index: 0
	
	if bug-fix3
		@css{
		.lfe-tooltip-theme > .tooltip-inner {
			position: relative;
			left: max(0px,calc(50% - 37.5px));
		}
		}
	
	if bug-fix4
		.page-bar button,.page-area button
			width: auto !important
	
	if bug-fix5
		.load-more
			min-height: auto !important
			padding: 1em 0 !important
	
	if bug-fix6
		div.refined-input.input-wrap.frame.focused+div.input-wrap
			border-left-color: Input-focus-border-color !important
	
	if bug-fix7
		.card:has(>section>.find-problem) b.desc.no-wrap
			margin-right: 2.3em !important
	
	if bug-fix8
		.hljs::selection, .hljs ::selection
			color: unset !important
	
	if bug-fix9
		.user-info .luogu-username>.name
			overflow: visible !important

	if bug-fix10
		body
			overflow-x: hidden
	
	if bug-fix12
		.find-problem.no-wrap.lfe-h2
			margin-bottom: 0 !important
	
	if bug-fix13
		.card.info-card.center.padding-default .dropdown
			&,& *
				height: 0 !important
				min-height: 0 !important
				width: 0 !important
				min-width: 0 !important
				margin: 0 !important
				padding: 0 !important
				top: 0 !important
				left: 0 !important
				display: none !important
	
	if bug-fix14
		.side > .card.padding-default > .info-rows[style="margin-bottom: 1em;"]:last-child
			margin-bottom: 0 !important
		.side > .card.padding-default > p:last-child
			margin-bottom: 0 !important
	
	if bug-fix15
		@media (min-width: 577px)
			.user-header-container .ccf-badge
				font-size: inherit !important
	
	if bug-fix16
		.user-info > .user-name > *
			vertical-align: middle !important
	
	if bug-fix17
		.dropdown>.float-card>.user-info>span,.dropdown>.float-card>.user-info>.user-action>span
			&,&>span>span,&>span
				vertical-align: middle !important
			&,& *
				line-height: 16px !important
			&>span>span
				font-size: 10.7px !important
			& svg
				height: 16px !important
	
	if bug-fix19 || Better-Badge
		.am-badge
			line-height: 1.5
			if Better-Badge
				padding: 0 8px
			else 
				padding: 0 0.625em
	
	if bug-fix20
		.mp-preview-content
			padding: 0 20px !important
		.mp-preview-zone
			padding-bottom: 0 !important

@-moz-document regexp("^https?://www.luogu.com(.cn)?/(article|problem/solution|ranking|discuss).*$")
	use_new_bar()
	.solution-article .operations .button // 这又写得啥。。
		opacity: 1 !important
	a // 神秘的 filter，前端写样式的时候不会注意点吗
		filter: none !important
	
	.user-nav.rside.show.nav-scrollbar // 朋友要用，做的紧急修改，TODO
		width: Article-rside-width !important
		max-width: Article-rside-width !important
	
	// 动画效果适配新前端
	if Better-Header-ani && More-Header-Ani
		for num in (1..7)
			@keyframes Header-anim{num}
				from
					padding-bottom: Header-ani-padding
				to 
					padding-bottom: 0px

			.main-container:has(.colored-link-selector>.active:nth-child({num})) > header.theme-bg
				animation: Header-anim+num Header-ani !important
	
	if Better-Header-text-ani && More-Header-Ani
		for num in (1..7)
			@keyframes ShowTop{num}
				from
					opacity: 0
					margin-left: - Header-text-ani-padding
				to 
					opacity: 1
					margin-left: 0px
			.main-container:has(.colored-link-selector>.active:nth-child({num})) > header.theme-bg
				& .lfe-h1
					animation: ShowTop+num Header-text-ani
					@media (min-width: 577px) 
						float: left if Better-Usernav-box

@-moz-document regexp("^https?://www.luogu.com(.cn)?/problem/solution.*$")
	if Better-prob-card // 应用边栏
		.sidebar-container.layout
			&>.side
				margin-right: 0 !important
			&>.main
				margin-left: 0 !important
			@media (min-width: 769px)
				&>.side
					width: Prob-side-width !important
					min-width: 0 !important
					float: right !important
					margin-left: 0 !important
				&>.main
					width: Prob-lcard-width !important
					min-width: 0 !important
					float: left !important
					margin-right: 0 !important
				display: inline-block
				width: 100%
	
	// 点赞按钮
	.operations > .thumb-up.enable
		& path
			fill: Problem-sol-icon-act-color !important
		color: Problem-sol-icon-act-color !important

@-moz-document regexp("^(http(s)?://www.luogu.com(.cn)?/discuss?(.*))")
	use_discuss_side()
	
	// 各讨论区图标颜色

	discuss-color = (Luogu-discuss-color-1 Luogu-discuss-color-2 Luogu-discuss-color-3 Luogu-discuss-color-4 Luogu-discuss-color-5 Luogu-discuss-color-6 Luogu-discuss-color-3)
	
	div.row.row-space-between.top > .content-right > a,.colored-link-selector > a
		& > .name
			transition: color Discuss-button-ani !important
		&[style*="#272727"]
			& > svg > path
				fill: discuss-color[0]
			& > .name:hover,&.active > .name
				color: discuss-color[0] !important
		&[style*="#14558f"]
			& > svg > path
				fill: discuss-color[1]
			& > .name:hover,&.active > .name
				color: discuss-color[1] !important
		&[style*="#f39c11"]
			& > svg > path
				fill: discuss-color[2]
			& > .name:hover,&.active > .name
				color: discuss-color[2] !important
		&[style*="#9d3dcf"]
			& > svg > path
				fill: discuss-color[3]
			& > .name:hover,&.active > .name
				color: discuss-color[3] !important
		&[style*="#52c41a"]
			& > svg > path
				fill: discuss-color[4]
			& > .name:hover,&.active > .name
				color: discuss-color[4] !important
		&[style*="#2949b4"]
			& > svg > path
				fill: discuss-color[5]
			& > .name:hover,&.active > .name
				color: discuss-color[5] !important

@-moz-document regexp("^(http(s)?://www.luogu.com(.cn)?/article?(.*))")
	use_new_bar()
	a // 神秘的 filter，前端写样式的时候不会注意点吗
		filter: none !important
	if Article-Discuss // 专栏布局与讨论区统一化
		use_discuss_side()
	
	// 文章广场样式
	.side .colored-link-selector > a
		&[style="--link-indicator-color: #272727;"]
			--link-indicator-color: Luogu-article-color-1 !important
		&[style="--link-indicator-color: #3498db;"]
			--link-indicator-color: Luogu-article-color-2 !important
		&[style="--link-indicator-color: #f39c11;"]
			--link-indicator-color: Luogu-article-color-3 !important
		&[style="--link-indicator-color: #9d3dcf;"]
			--link-indicator-color: Luogu-article-color-4 !important
		&[style="--link-indicator-color: #70ad47;"]
			--link-indicator-color: Luogu-article-color-5 !important
		&[style="--link-indicator-color: #2949b4;"]
			--link-indicator-color: Luogu-article-color-6 !important
		&[style="--link-indicator-color: #fe4c61;"]
			--link-indicator-color: Luogu-article-color-7 !important
		&>.name
			transition: color Discuss-button-ani !important
		&.wrap.active > .name,&.wrap:hover > .name
			color: var(--link-indicator-color) !important
	
	// 专栏图标样式
	.button-2line
		& path
			fill: Article-icon-color !important
	
	// 修一个小问题
	.actions:has(>.button-2line)>a>.button-2line
		margin: 0 1em !important
	.actions:not(:has(>a>.button-2line))>a[disabled="false"]
		margin: 0 !important

	article-icons = (article-icon-1-color article-icon-2-color article-icon-3-color article-icon-4-color)
	for i in 0..3
		.actions:has(>.button-2line)
			&>:nth-child({i+1}):hover path,&>.active:nth-child({i+1}) path
				fill: article-icons[i] !important
			& path
				transition: fill Article-icon-hover-ani !important
			if Better-article-icon-text
				&>:nth-child({i+1}):hover span, &>.active:nth-child({i+1}) span
					color: article-icons[i] !important
				& span
					transition: color Article-icon-hover-ani !important
					
	
	if Better-article-card=="on" // 卡片化！
		.main-container > main.lcolor-bg-grey-1
			position relative !important
			top 1em !important
			border-radius 6px !important
			box-sizing border-box !important
			width 100% !important
			min-width 448px !important
			max-width 768px !important
			margin-left auto !important
			margin-right auto !important

			&>div[style*="background-color: rgb(255\, 255\, 255);"]
				background: none !important
			
			& .banner-content
				padding-left: 1em
				padding-right: 1em
			
			// 特殊处理 TODO：单独变量化
			& .l-card.reply-item
				border-radius: Card-L1-radius !important
				background: Card-bg-color-float !important
		
		.main-container.lside-bar:has(>.lcolor-bg-grey-1)>footer
			background: none !important
			&>hr
				display: none !important
		
		.toc-wrapper
			right: -205px !important
		
	else
		.main-container.lside-bar:has(>.lcolor-bg-grey-1)
			use_mainly_background(Article-Background)

			&>*
				background: none !important

			& div[style*="background-color: rgb(255\, 255\, 255);"]
				background: Article-text-bg-color !important
	
	.user-nav.rside.show.nav-scrollbar // 朋友要用，做的紧急修改，TODO
		width: Article-rside-width !important
		max-width: Article-rside-width !important
	
	if Article-progress-bar
		@keyframes Article-progress-bar-ani
			0%
				transform-origin 0 50%
				transform scaleX(0)
			100%
				transform-origin 0 50%
				transform scaleX(1)

		.lfe-body:has(>.main-container>.lcolor-bg-grey-1) > .top-bar::before
			content: ""
			position: absolute
			top: 0
			left: 0
			right: 0
			height: Article-progress-height
			background: Article-progress-bg-color
		.lfe-body:has(>.main-container>.lcolor-bg-grey-1) > .top-bar::after
			content: ""
			position: absolute
			top: 0
			left: 0
			right: 0
			height: Article-progress-height
			background: Article-progress-color
			animation: Article-progress-bar-ani Article-progress-ani
			animation-timeline scroll()

// 主站样式
@-moz-document regexp("^(https?://www.luogu.com(.cn)?/)(?!article/[A-Za-z0-9]{8}$).*")
	// 整体布局
	main.lfe-body // main 背景的 background 设成 none
		background: none !important

// 洛谷主页专属样式(万年屎山的尊贵待遇www)
@-moz-document regexp("^(https?://www.luogu.com(.cn)?/)$")
	*
		box-sizing: content-box // 这个东西，万恶之源，但是屎山必须得动
	.lg-index-content > .am-g *
		box-sizing: border-box
	
	if Homepage-L2-Card-border // 主页二级卡片 border
		.am-panel
			border: none
	else
		.am-panel-success
			border-color: Homepage-L2-Card-green-border !important
		.am-panel-danger
			border-color: Homepage-L2-Card-red-border !important
		.am-panel-primary
			border-color: Homepage-L2-Card-blue-border !important
			& .am-panel-title a
				color: Homepage-L2-Card-blue-text-color !important
	
	// 洛谷首页绿红超链接
	.am-panel-success > .am-panel-hd > .am-panel-title > a
		color: Homepage-a-green
		&:focus, &:hover
			color: A-hover-color
	.am-panel-danger > .am-panel-hd > .am-panel-title > a
		color: Homepage-a-red
		&:focus, &:hover
			color: A-hover-color

	.lg-article > div
		color: Text-color
	
	if Homepage-Profile-Picture-hide // 洛谷首页头像边框去除
		.am-comment-avatar
			border: none !important

	// 主页的特殊石山 -- 通过状态栏样式修改
	.highcharts-container .highcharts-axis-labels text,.highcharts-container > svg > g.highcharts-yaxis > text > tspan
		fill: Introduce-color !important
	.highcharts-container > svg > g:nth-child(8) > path,.highcharts-container > svg > g.highcharts-axis.highcharts-xaxis > path
		stroke: Divider-color !important

	// 犇犇样式修改
	#feed		
		.am-comment-main
			border: none if Benben-border-del
			border-radius: Benben-radius
			border-color: Homepage-L2-Card-blue-border
			box-shadow: Benben-shadow !important
			transition: box-shadow Benben-hover-ani !important

			&:hover
				box-shadow: Benben-hover-shadow !important

			.am-comment-hd
				content-visibility: auto if Content-Visibility
				border-radius: Benben-radius Benben-radius 0 0
				background: Benben-hd-color
			.am-comment-bd
				border-radius: 0 0 Benben-radius Benben-radius
				transition: all Benben-bd-hover-ani !important
				background: Benben-bd-color
			&:hover .am-comment-bd
				border-radius: 0 0 Benben-radius Benben-radius
				transition: all Benben-bd-hover-ani !important
				background: Benben-bd-hover-color !important

			&:after
				border-right-color: Benben-hd-color
			&:before
				if Benben-border-del
					border-right-color: Benben-hd-color
				else
					border-right-color: Homepage-L2-Card-blue-border

			&:before, &:after
				display: none if Benben-hide

	// 犇犇 Tab 条优化
	.feed-selector > a
		anti_hover_line()
		font-weight: 500
		transition: all .15s ease !important
		color: Benben-tab-text-color
		border-radius: Card-L2-radius !important
		background: Benben-tab-bg-color
		box-shadow: 0 4px 6px rgba(50,50,93,.11), 0 1px 3px rgba(0,0,0,.08) if Better-Benben-Tab && !DarkMode // TODO：变量化
		height: Benben-tab-height
		line-height: Benben-tab-height
		padding: 0 !important

	.feed-selector > a:hover
		background: Benben-tab-hover-color !important

	.feed-selector.am-active > a
		color: Benben-tab-focus-text-color
		background: Benben-tab-focus-bg-color !important

	if Better-Benben-Tab
		.lg-index-benben div:nth-of-type(4) 
			background: transparent !important
			box-shadow: none !important
			padding-left: 0
			padding-right: 0

		.lg-index-benben div:nth-of-type(4) #home-center-nav
			background: transparent !important
	
	// 主页题目通过条
	if Better-highcharts
		path.highcharts-area
			//color: white;
			//background: white;
			fill: Highcharts-bg-color !important // 通过背景色

		path.highcharts-point.highcharts-color-0 
			fill: Highcharts-point-color !important // 点色

		path.highcharts-point.highcharts-color-0.highcharts-point-hover // hover 点色
			fill: Highcharts-hover-point-color !important
			stroke: Highcharts-hover-point-border-color !important

		path.highcharts-halo.highcharts-color-0  // 氛围环
			fill: Highcharts-hover-bigpoint-color !important
			fill-opacity: Highcharts-hover-bigpoint-op !important

		rect.highcharts-point.highcharts-color-1
			fill: Highcharts-strip-color !important // 柱子主体
			stroke: Highcharts-strip-border-color !important // 柱子边框
			&.highcharts-point-hover
				fill: Highcharts-strip-hover-color !important

		path.highcharts-graph
			stroke: Highcharts-line-color !important

		.highcharts-label.highcharts-tooltip.highcharts-color-0 // 文本框
			&>text
				fill: Highcharts-text-color !important
				&>[style*="fill:#7cb5ec"]
					fill: Highcharts-text-point-color-1 !important
				&>[style*="fill:#43434"]
					fill: Highcharts-text-point-color-2 !important
			&>.highcharts-label-box.highcharts-tooltip-box:not(.highcharts-shadow) 
				fill: Highcharts-text-bg-color !important
				stroke: Highcharts-text-border-color !important
	
	.am-slider-default .am-control-nav li a.am-active
		width: 15px !important if Better-control-nav
		background: Control-nav-active-bg-color !important

	.am-slider-default .am-control-nav li a
		transition: all Control-nav-ani !important
		background: Control-nav-bg-color !important
	
	.lg-index-calendar.lg-fg-greendark
		color: Checkin-Time-color !important
	
	if Better-AD-font
		.am-slider-default .am-direction-nav .am-nav-prev a
			left: 0 !important
			border-top-right-radius: AD-font-bg-radius !important
			border-bottom-right-radius: AD-font-bg-radius !important
			&:before
				content: "\f053" !important
				position: unset !important
				background: none !important
		.am-slider-default .am-direction-nav .am-nav-next a
			right: 0 !important
			border-top-left-radius: AD-font-bg-radius !important
			border-bottom-left-radius: AD-font-bg-radius !important
			&:before
				content: "\f054" !important
				position: unset !important
				background: none !important
		.am-slider-default .am-direction-nav a
			opacity: 1 !important
			width: AD-font-bg-width !important
			height: AD-font-bg-height !important
			transition: background AD-font-bg-ani !important
			background: AD-font-bg-color !important
			transform: translateY(-50%) !important
			margin: 0 !important
			&:before
				color: AD-font-color !important
				height: AD-font-bg-height !important
				line-height: (AD-font-bg-height*(45/42.0)) !important
				font-size: AD-font-size !important
				text-align: center !important
		.am-slider-default:hover .am-next:hover,.am-slider-default:hover .am-prev:hover
			background: AD-font-bg-hover-color !important
		.am-slider-default:hover .am-next,.am-slider-default:hover .am-prev
			background: AD-font-bg-hoverimg-color !important
		
	if Better-Smooth-scroll
		body,html
			scroll-behavior: auto !important
	
	// 老前端应用样式
	.lg-inline-up>.lg-small:not(:last-child),.feed-username
		& .lg-bg-gray
			transition: all Usertag-color-ani !important
			background: Usertag-color-1 !important
			border-color: Usertag-color-1 !important
			&:hover
				background: Usertag-hover-color-1 !important
				border-color: Usertag-hover-color-1 !important
		& .lg-bg-bluelight
			transition: all Usertag-color-ani !important
			background: Usertag-color-2 !important
			border-color: Usertag-color-2 !important
			&:hover
				background: Usertag-hover-color-2 !important
				border-color: Usertag-hover-color-2 !important
		& .lg-bg-green
			transition: all Usertag-color-ani !important
			background: Usertag-color-3 !important
			border-color: Usertag-color-3 !important
			&:hover
				background: Usertag-hover-color-3 !important
				border-color: Usertag-hover-color-3 !important
		& .lg-bg-orange
			transition: all Usertag-color-ani !important
			background: Usertag-color-4 !important
			border-color: Usertag-color-4 !important
			&:hover
				background: Usertag-hover-color-4 !important
				border-color: Usertag-hover-color-4 !important
		& .lg-bg-red
			transition: all Usertag-color-ani !important
			background: Usertag-color-5 !important
			border-color: Usertag-color-5 !important
			&:hover
				background: Usertag-hover-color-5 !important
				border-color: Usertag-hover-color-5 !important
		& .lg-bg-purple
			transition: all Usertag-color-ani !important
			background: Usertag-color-6 !important
			border-color: Usertag-color-6 !important
			&:hover
				background: Usertag-hover-color-6 !important
				border-color: Usertag-hover-color-6 !important
		& .lg-bg-brown
			transition: all Usertag-color-ani !important
			background: Usertag-color-7 !important
			border-color: Usertag-color-7 !important
			&:hover
				background: Usertag-hover-color-7 !important
				border-color: Usertag-hover-color-7 !important
	
	a.sb_amazeui > svg
		& path
			transition: fill Usersvg-hover-ani !important

		&[fill*="#5eb95e"] path
			fill: Usersvg-color-1 !important
		&[fill*="#3498db"] path
			fill: Usersvg-color-2 !important
		&[fill*="#f1c40f"] path
			fill: Usersvg-color-3 !important
		
		&:hover
			&[fill*="#5eb95e"] path
				fill: Usersvg-hover-color-1 !important
			&[fill*="#3498db"] path
				fill: Usersvg-hover-color-2 !important
			&[fill*="#f1c40f"] path
				fill: Usersvg-hover-color-3 !important

	a
		&.lg-fg-gray
			transition: color Username-color-ani !important
			color: Username-color-1 !important
			&:hover
				color: Username-hover-color-1 !important
		&.lg-fg-bluelight
			transition: color Username-color-ani !important
			color: Username-color-2 !important
			&:hover
				color: Username-hover-color-2 !important
		&.lg-fg-green
			transition: color Username-color-ani !important
			color: Username-color-3 !important
			&:hover
				color: Username-hover-color-3 !important
		&.lg-fg-orange
			transition: color Username-color-ani !important
			color: Username-color-4 !important
			&:hover
				color: Username-hover-color-4 !important
		&.lg-fg-red
			transition: color Username-color-ani !important
			color: Username-color-5 !important
			&:hover
				color: Username-hover-color-5 !important
		&.lg-fg-purple
			transition: color Username-color-ani !important
			color: Username-color-6 !important
			&:hover
				color: Username-hover-color-6 !important
		&.lg-fg-brown
			transition: color Username-color-ani !important
			color: Username-color-7 !important
			&:hover
				color: Username-hover-color-7 !important

	if bug-fix11
		.am-u-md-4.lg-punch.am-text-center > h2 svg
			margin-bottom: 0 !important

	if bug-fix21
		.am-slider-default .am-direction-nav .am-nav-prev a,.am-slider-default .am-direction-nav .am-nav-next a
			z-index: auto !important
	
